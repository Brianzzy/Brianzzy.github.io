<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/blog32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/blog16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.pengspace.top","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","width":300,"display":"post","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="记录自己学习的历程">
<meta property="og:type" content="website">
<meta property="og:title" content="鹏空间">
<meta property="og:url" content="https://www.pengspace.top/index.html">
<meta property="og:site_name" content="鹏空间">
<meta property="og:description" content="记录自己学习的历程">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="AnswerCoder">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://www.pengspace.top/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>鹏空间</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  
    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
    <script type="text/javascript" src="/js/src/fireworks.js"></script>
  
<link rel="alternate" href="/atom.xml" title="鹏空间" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">鹏空间</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">学习笔记</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>
    
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.pengspace.top/2020/11/16/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E9%AB%98%E7%BA%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/05/01/VMPAdgQKfpzoWtc.jpg">
      <meta itemprop="name" content="AnswerCoder">
      <meta itemprop="description" content="记录自己学习的历程">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="鹏空间">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/16/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E9%AB%98%E7%BA%A7/" class="post-title-link" itemprop="url">MySQL数据库高级</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-11-16 19:41:42 / 修改时间：19:43:25" itemprop="dateCreated datePublished" datetime="2020-11-16T19:41:42+08:00">2020-11-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">评论数：</span>
    
    <a title="valine" href="/2020/11/16/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E9%AB%98%E7%BA%A7/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/11/16/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E9%AB%98%E7%BA%A7/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>15k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>14 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="DQL数据查询进阶"><a href="#DQL数据查询进阶" class="headerlink" title="DQL数据查询进阶"></a>DQL数据查询进阶</h2><p>这里所用到的表结构如下图所示：</p>
<p><img src="https://i.loli.net/2020/11/11/T2PUqaGgcXIZv18.png" alt=""></p>
<h3 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h3><p>子查询即嵌套在其他查询中的查询。可以利用嵌套关系完成一些复杂情况的查询。</p>
<blockquote>
<p>  <strong>例子 1：利用子查询进行过滤</strong></p>
<p>  订单存储在两个表中。对于包含订单号、客户ID、订单日期的每个订单，orders表存储⼀行。 各订单的物品存储在相关的orderitems表中。orders表不存储客户信息。它只存储客户的ID。实际的客户信息存储在customers表中。现在，假如需要列出订购了物品TNT2的所有客户，可以用下面的方式查询</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">-- 从oderitems表中查询所有包含物品TNT2中的订单编号order_num;</span><br><span class="line">-- 将上一步查询出的order_num作为在oders表中查询的条件，查询出符合条件的用户编号cust_id;</span><br><span class="line">-- 再将上一步查询出的cust_id作为在customers表中查询的条件,就可以查询出订购了物品TNT2的所有客户啦</span><br><span class="line">SELECT cust_name,cust_contact</span><br><span class="line">FROM customers</span><br><span class="line">WHERE cust_id IN (</span><br><span class="line">   SELECT cust_id</span><br><span class="line">	FROM orders</span><br><span class="line">	WHERE order_num IN (</span><br><span class="line">       SELECT order_numFROM orderitems WHERE prod_id &#x3D; &#39;TNT2&#39;</span><br><span class="line">   )</span><br><span class="line">); </span><br><span class="line">-- 查询结果：</span><br><span class="line">+----------------+--------------+</span><br><span class="line">| cust_name      | cust_contact |</span><br><span class="line">+----------------+--------------+</span><br><span class="line">| Coyote Inc.    | Y Lee        |</span><br><span class="line">| Yosemite Place | Y Sam        |</span><br><span class="line">+----------------+--------------+</span><br></pre></td></tr></table></figure>

<p>  <strong>例子 2：作为计算字段使用子查询</strong></p>
<p>  假如需要显示customers表中每个客户的订单总数。订单与相应的客户ID存储在orders表中。</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">-- 从customers表中检索客户列表。对于检索出的每个客户，统计其在orders表中的订单数目。</span><br><span class="line">SELECT cust_id,cust_name,</span><br><span class="line">(SELECT COUNT(*)</span><br><span class="line">FROM orders</span><br><span class="line">WHERE orders.cust_id &#x3D; customers.cust_id) as ordersNum</span><br><span class="line">FROM customers</span><br><span class="line">ORDER BY cust_name;</span><br><span class="line"></span><br><span class="line">-- 查询结果</span><br><span class="line">+---------+----------------+-----------+</span><br><span class="line">| cust_id | cust_name      | ordersNum |</span><br><span class="line">+---------+----------------+-----------+</span><br><span class="line">|   10001 | Coyote Inc.    |         2 |</span><br><span class="line">|   10005 | E Fudd         |         1 |</span><br><span class="line">|   10002 | Mouse House    |         0 |</span><br><span class="line">|   10003 | Wascals        |         1 |</span><br><span class="line">|   10004 | Yosemite Place |         1 |</span><br><span class="line">+---------+----------------+-----------+</span><br></pre></td></tr></table></figure>

<p>  这条SELECT 语句对customers 表中每个客户返回3 列：cust_name、cust_state和ordersNum。ordersNum是一个计算字段，它是由圆括号中的子查询<code>SELECT COUNT(*) FROM orders WHERE orders.cust_id = customers.cust_id) as ordersNum)</code>建立的。该子查询对检索出的每个客户执行一次。在此例子中，该子查询执行了5次，因为检索出了5个客户。</p>
<blockquote>
<p>  子查询中的WHERE子句与前面使用的WHERE子句稍有不同，因为它使用了完全限定列名。这种方式叫做相关子查询，它是涉及外部查询的子查询。任何时候只要列名可能有多义性，就必须使用这种语法。因为有两个cust_id列，一个在customers中，另一个在orders中，需要⽐比较这两个列列以正确地把订单与它们相应的顾客匹配</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WHERE orders.cust_id &#x3D; customers.cust_id</span><br></pre></td></tr></table></figure>
</blockquote>
</blockquote>
<h3 id="联表查询"><a href="#联表查询" class="headerlink" title="联表查询"></a>联表查询</h3><p>SQL最强大的功能之⼀就是能在数据检索查询的执行中联结（join）表。在能够有效地使⽤用联结前，必须了了解关系表以及关系数据库设计的⼀些基础知识</p>
<h4 id="表关系"><a href="#表关系" class="headerlink" title="表关系"></a>表关系</h4><p>MySQL作为一个关系型数据，最大的特点便是通过表与表之间的关系，可以有效地存储和方便地处理数据</p>
<p><strong>关系表的设计就是要保证把信息分解成多个表，一类数据一个表。各表通过某些常用的值（即关系设计中的关系(relational)）互相关联。</strong></p>
<p>表与表之间的关系，通过外键进行关联。<strong>外键存在于两个拥有相同字段的表中，其中一个表的主键在另一个表中作为外键</strong>查找数据时，可以通过外键确定数据对应关系。</p>
<p>表关系又下面三种</p>
<ul>
<li><p>一对一关系：就是在一个表A中的一条数据，对应着另外一张表B中的一条数据，反过来也是。</p>
</li>
<li><p>一对多（多对一）关系：在一个表A中的一条数据对应着另外一个表B中的多条数据，但反过来另一个表B中的一条数据也只能对应表A中的一条数据，比如，爸爸和儿女，一个爸爸可以有很多儿女，但一个儿女只能有一个爸爸。</p>
</li>
<li><p>多对多关系：在一个表A中的一条数据对应另一个表B中的多条数据，同时，表B中的一条数据也对应着表A中的多条数据</p>
<p><img src="https://i.loli.net/2020/11/11/ki3lRrb2MfgV7hX.png" alt=""></p>
</li>
</ul>
<blockquote>
<p>  有关<strong>表关系</strong>更详细的内容可以看这两篇文章</p>
<p>  <a href="https://cloud.tencent.com/developer/article/1585927" target="_blank" rel="noopener">https://cloud.tencent.com/developer/article/1585927</a></p>
<p>  <a href="https://blog.csdn.net/weixin_40001125/article/details/88252494" target="_blank" rel="noopener">https://blog.csdn.net/weixin_40001125/article/details/88252494</a></p>
</blockquote>
<h4 id="表联结查询"><a href="#表联结查询" class="headerlink" title="表联结查询"></a>表联结查询</h4><p>如果数据存储在多个表中，怎样⽤用单条SELECT语句句检索出数据？</p>
<p>答案是使⽤用联结。简单地说，联结是⼀种机制，用来在一条SELECT语句中关联表，因此称之为联<br>结。</p>
<p>使⽤用特殊的语法，可以联结多个表返回一组输出，联结在运行时关联表中正确的行。</p>
<h5 id="内联结（等值连接）——INNER-JOIN"><a href="#内联结（等值连接）——INNER-JOIN" class="headerlink" title="内联结（等值连接）——INNER JOIN"></a>内联结（等值连接）——INNER JOIN</h5><p>获取两个表中字段匹配关系的记录。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT 表名1.字段名1,表名2.字段名2... FROM 表名1 INNER JOIN 表名2 ON 表名1.字段名3 &#x3D; 表名2.字段名3;</span><br></pre></td></tr></table></figure>

<p>也可以省略 INNER ，只写一个 JOIN。</p>
<p><img src="https://i.loli.net/2020/11/11/B9bHELYmCAZwiJ1.png" alt=""></p>
<blockquote>
<p>  举例：我们需要查询出所有的商品及对应的供应商信息：    </p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">SELECT vend_name,prod_name,prod_price</span><br><span class="line">FROM vendors INNER JOIN products</span><br><span class="line">ON vendors.vend_id &#x3D; products.vend_id</span><br><span class="line">-- 查询结果</span><br><span class="line">+-------------+----------------+------------+</span><br><span class="line">| vend_name   | prod_name      | prod_price |</span><br><span class="line">+-------------+----------------+------------+</span><br><span class="line">| ACME        | Bird seed      |      10.00 |</span><br><span class="line">| ACME        | Carrots        |       2.50 |</span><br><span class="line">| ACME        | Detonator      |      13.00 |</span><br><span class="line">| ACME        | Safe           |      50.00 |</span><br><span class="line">| ACME        | Sling          |       4.49 |</span><br><span class="line">| ACME        | TNT (1 stick)  |       2.50 |</span><br><span class="line">| ACME        | TNT (5 sticks) |      10.00 |</span><br><span class="line">| Anvils R Us | .5 ton anvil   |       5.99 |</span><br><span class="line">| Anvils R Us | 1 ton anvil    |       9.99 |</span><br><span class="line">| Anvils R Us | 2 ton anvil    |      14.99 |</span><br><span class="line">| Jet Set     | JetPack 1000   |      35.00 |</span><br><span class="line">| Jet Set     | JetPack 2000   |      55.00 |</span><br><span class="line">| LT Supplies | Fuses          |       3.42 |</span><br><span class="line">| LT Supplies | Oil can        |       8.99 |</span><br><span class="line">+-------------+----------------+------------+</span><br></pre></td></tr></table></figure>

<p>  上面语句等价于：</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT vend_name,prod_name,prod_price</span><br><span class="line">FROM vendors,products</span><br><span class="line">WHERE vendors.vend_id &#x3D; products.vend_id</span><br></pre></td></tr></table></figure>
</blockquote>
<p>多表联结：SQL对⼀一条SELECT语句句中可以联结的表的数目没有限制。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SELECT 表名1.字段名1,表名2.字段名2... </span><br><span class="line">FROM 表名1 </span><br><span class="line">INNER JOIN 表名2 ON 表名1.字段名3 &#x3D; 表名2.字段名3</span><br><span class="line">INNER JOIN 表名3 ON 表名2.字段名4 &#x3D; 表名3.字段名4</span><br><span class="line">...</span><br><span class="line">(WHERE 过滤条件);</span><br><span class="line">-- ON 后面跟联结条件</span><br></pre></td></tr></table></figure>

<h5 id="自联结"><a href="#自联结" class="headerlink" title="自联结"></a>自联结</h5><p>自联结在查询一些特定数据时可以作为子嵌套查询的替代</p>
<p>这时候，就需要自己与自己进行联结，为了区分，需要用AS取一个别名</p>
<blockquote>
<p>  举例：</p>
<p>  假如你发现某物品（其ID为DTNTR）存在问题，因此想知道生产该物品的供应商生产的其他物品是否也存在这些问题。此查询要求首先找到生产ID为DTNTR的物品的供应商，然后找出这个供应商生产的其他物品。</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">-- 1.自联结 JOIN</span><br><span class="line">SELECT p1.prod_id,p1.prod_name</span><br><span class="line">FROM products AS p1 </span><br><span class="line">JOIN products AS p2</span><br><span class="line">ON p1.vend_id &#x3D; p2.vend_id </span><br><span class="line">WHERE p2.prod_id &#x3D; &#39;DTNTR&#39;;</span><br><span class="line">-- 2.自联结 WHERE</span><br><span class="line">SELECT p1.prod_id,p1.prod_name</span><br><span class="line">FROM products AS p1,products AS p2</span><br><span class="line">WHERE p1.vend_id &#x3D; p2.vend_id AND p2.prod_id &#x3D; &#39;DTNTR&#39;;</span><br><span class="line">-- 3.子查询</span><br><span class="line">SELECT prod_id,prod_name</span><br><span class="line">FROM products</span><br><span class="line">WHERE vend_id &#x3D; (SELECT vend_id FROM products WHERE prod_id &#x3D; &#39;DTNTR&#39;);</span><br><span class="line">-- 查询结果</span><br><span class="line">+---------+----------------+</span><br><span class="line">| prod_id | prod_name      |</span><br><span class="line">+---------+----------------+</span><br><span class="line">| DTNTR   | Detonator      |</span><br><span class="line">| FB      | Bird seed      |</span><br><span class="line">| FC      | Carrots        |</span><br><span class="line">| SAFE    | Safe           |</span><br><span class="line">| SLING   | Sling          |</span><br><span class="line">| TNT1    | TNT (1 stick)  |</span><br><span class="line">| TNT2    | TNT (5 sticks) |</span><br><span class="line">+---------+----------------+</span><br></pre></td></tr></table></figure>


</blockquote>
<p>自联结通常作为外部语句用来替代从相同表中检索数据时使用的子查询语句。虽然最终的结果是相同的，但有时候<strong>处理联结远比处理子查询快得多</strong>。</p>
<h5 id="外部联结"><a href="#外部联结" class="headerlink" title="外部联结"></a>外部联结</h5><ul>
<li><p>左联结 LEFT JOIN：以左侧表为基准，去关联右侧的表进行联结，如果有未关联的数据，那么结果为null</p>
</li>
<li><p>右联结 RIGHT JOIN：以右侧表为基准，去关联左侧的表进行联结，如果有未关联的数据，那么结果为null</p>
<p>  <img src="https://i.loli.net/2020/11/11/NszZBtwy3GSOMcU.png" alt=""></p>
</li>
</ul>
<blockquote>
<p>  例如：我们要对每个客户下了多少订单进行计数，<strong>包括那些至今尚未下订单的客户</strong>；</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">-- 1.内部联结。它检索所有客户及其订单：</span><br><span class="line">SELECT customers.cust_id,orders.order_num </span><br><span class="line">FROM customers INNER JOIN orders </span><br><span class="line">ONcustomers.cust_id &#x3D; orders.cust_id;</span><br><span class="line">+---------+-----------+</span><br><span class="line">| cust_id | order_num |</span><br><span class="line">+---------+-----------+</span><br><span class="line">|   10001 |     20005 |</span><br><span class="line">|   10001 |     20009 |</span><br><span class="line">|   10003 |     20006 |</span><br><span class="line">|   10004 |     20007 |</span><br><span class="line">|   10005 |     20008 |</span><br><span class="line">+---------+-----------+</span><br><span class="line">-- 明显这种方式不能达到我们的要求，它不包含至今尚未下订单的客户 10002</span><br><span class="line"></span><br><span class="line">-- 2.外部联结。检索所有客户，包括那些没有订单的客户</span><br><span class="line">SELECT customers.cust_id,orders.order_num </span><br><span class="line">FROM customers LEFT JOIN orders </span><br><span class="line">ON customers.cust_id &#x3D; orders.cust_id;</span><br><span class="line">-- 也可以写成这样</span><br><span class="line">SELECT customers.cust_id,orders.order_num </span><br><span class="line">FROM orders RIGHT JOIN customers </span><br><span class="line">ON customers.cust_id &#x3D; orders.cust_id;</span><br><span class="line">-- 查询结果</span><br><span class="line">+---------+-----------+</span><br><span class="line">| cust_id | order_num |</span><br><span class="line">+---------+-----------+</span><br><span class="line">|   10001 |     20005 |</span><br><span class="line">|   10001 |     20009 |</span><br><span class="line">|   10002 |      NULL |</span><br><span class="line">|   10003 |     20006 |</span><br><span class="line">|   10004 |     20007 |</span><br><span class="line">|   10005 |     20008 |</span><br><span class="line">+---------+-----------+</span><br><span class="line"></span><br><span class="line">-- 加入订单量计数</span><br><span class="line">SELECT customers.cust_id,customers.cust_name,COUNT(orders.order_num) AS num_ord</span><br><span class="line">FROM customers LEFT JOIN orders </span><br><span class="line">ON customers.cust_id &#x3D; orders.cust_id</span><br><span class="line">GROUP BY customers.cust_id;</span><br><span class="line">-- 查询结果</span><br><span class="line">+---------+----------------+---------+</span><br><span class="line">| cust_id | cust_name      | num_ord |</span><br><span class="line">+---------+----------------+---------+</span><br><span class="line">|   10001 | Coyote Inc.    |       2 |</span><br><span class="line">|   10002 | Mouse House    |       0 |</span><br><span class="line">|   10003 | Wascals        |       1 |</span><br><span class="line">|   10004 | Yosemite Place |       1 |</span><br><span class="line">|   10005 | E Fudd         |       1 |</span><br><span class="line">+---------+----------------+---------+</span><br><span class="line"></span><br><span class="line">-- 列出所有产品以及订购数量量，包括没有⼈人订购的产品；</span><br><span class="line">select products.prod_id,products.prod_name,count(orderitems.order_num) AS num_ord</span><br><span class="line">from products left join orderitems</span><br><span class="line">on products.prod_id &#x3D; orderitems.prod_id</span><br><span class="line">group by products.prod_id;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>  <strong>表联结注意事项</strong></p>
<ul>
<li>保证使⽤用正确的联结条件，否则将返回不不正确的数据。</li>
<li>应该总是提供联结条件，否则会得出笛卡⼉儿积。</li>
<li>在一个联结中可以包含多个表，甚至对于每个联结可以采⽤用不同的联结类型。虽然这样做是合法的，一般也很有用，但应该在一起测试它们前，分别测试每个联结。这将使故障排除更为简单</li>
</ul>
</blockquote>
<h3 id="组合查询"><a href="#组合查询" class="headerlink" title="组合查询"></a>组合查询</h3><p>MySQL也允许执行多个查询（多条SELECT语句句），并将结果作为单个查询结果集返回。这些组合查询通常称为并（union）或复合查询（compound query）。</p>
<p><strong>UNION规则</strong></p>
<ul>
<li>UNION必须由两条或两条以上的SELECT语句组成，语句之间用关键字UNION分隔（因此，如果组合4条SELECT语句句，将要使用3个UNION关键字）。</li>
<li>UNION中的每个查询必须包含相同的列、表达式或聚集函数（不过各个列不需要以相同的次序列出）</li>
<li>列数据类型必须兼容：类型不必完全相同，但必须是DBMS可以隐含地转换的类型（例如，不同的数值类型或不同的日期类型）。</li>
</ul>
<blockquote>
<p>  举例：假如需要价格小于等于5的所有物品的一个列表，而且还想包括供应商1001和1002生产的所有物品。</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">SELECT vend_id,prod_id,prod_price FROM products WHERE prod_price &lt;&#x3D; 5</span><br><span class="line">UNION</span><br><span class="line">SELECT vend_id,prod_id,prod_price FROM products WHERE vend_id in(1001,1002);</span><br><span class="line"></span><br><span class="line">-- 查询结果</span><br><span class="line">+---------+---------+------------+</span><br><span class="line">| vend_id | prod_id | prod_price |</span><br><span class="line">+---------+---------+------------+</span><br><span class="line">|    1003 | FC      |       2.50 |</span><br><span class="line">|    1002 | FU1     |       3.42 |</span><br><span class="line">|    1003 | SLING   |       4.49 |</span><br><span class="line">|    1003 | TNT1    |       2.50 |</span><br><span class="line">|    1001 | ANV01   |       5.99 |</span><br><span class="line">|    1001 | ANV02   |       9.99 |</span><br><span class="line">|    1001 | ANV03   |      14.99 |</span><br><span class="line">|    1002 | OL1     |       8.99 |</span><br><span class="line">+---------+---------+------------+</span><br><span class="line"></span><br><span class="line">-- UNION会从查询结果集中自动去除了重复的行 这是UNION的默认行为，但是如果需要，可以改变它。</span><br><span class="line">-- 如果想返回所有匹配的行，可使用UNION ALL</span><br><span class="line">SELECT vend_id,prod_id,prod_price FROM products WHERE prod_price &lt;&#x3D; 5</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT vend_id,prod_id,prod_price FROM products WHERE vend_id in(1001,1002);</span><br><span class="line"></span><br><span class="line">-- 结果</span><br><span class="line">+---------+---------+------------+</span><br><span class="line">| vend_id | prod_id | prod_price |</span><br><span class="line">+---------+---------+------------+</span><br><span class="line">|    1003 | FC      |       2.50 |</span><br><span class="line">|    1002 | FU1     |       3.42 |	-- 重复数据</span><br><span class="line">|    1003 | SLING   |       4.49 |		</span><br><span class="line">|    1003 | TNT1    |       2.50 |</span><br><span class="line">|    1001 | ANV01   |       5.99 |</span><br><span class="line">|    1001 | ANV02   |       9.99 |</span><br><span class="line">|    1001 | ANV03   |      14.99 |</span><br><span class="line">|    1002 | FU1     |       3.42 | -- 重复数据</span><br><span class="line">|    1002 | OL1     |       8.99 |</span><br><span class="line">+---------+---------+------------+</span><br></pre></td></tr></table></figure>

<p>  <strong>对组合查询结果排序</strong></p>
<p>  SELECT语句的输出用ORDER BY子句排序。在⽤UNION组合查询时，只能使⽤一条ORDER BY子句，它必须出现在最后一条SELECT语句之后。<strong>ORDER BY子句是对整个结果集排序</strong></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">SELECT vend_id,prod_id,prod_price FROM products WHERE prod_price &lt;&#x3D; 5</span><br><span class="line">UNION</span><br><span class="line">SELECT vend_id,prod_id,prod_price FROM products WHERE vend_id in(1001,1002)</span><br><span class="line">ORDER BY prod_price;</span><br><span class="line"></span><br><span class="line">-- 查询结果</span><br><span class="line">+---------+---------+------------+</span><br><span class="line">| vend_id | prod_id | prod_price |</span><br><span class="line">+---------+---------+------------+</span><br><span class="line">|    1003 | FC      |       2.50 |</span><br><span class="line">|    1003 | TNT1    |       2.50 |</span><br><span class="line">|    1002 | FU1     |       3.42 |</span><br><span class="line">|    1003 | SLING   |       4.49 |</span><br><span class="line">|    1001 | ANV01   |       5.99 |</span><br><span class="line">|    1002 | OL1     |       8.99 |</span><br><span class="line">|    1001 | ANV02   |       9.99 |</span><br><span class="line">|    1001 | ANV03   |      14.99 |</span><br><span class="line">+---------+---------+------------+</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="MySQL事务"><a href="#MySQL事务" class="headerlink" title="MySQL事务"></a>MySQL事务</h2><p>事务（Transaction）是由⼀系列对系统中数据进行访问与更新的操作所组成的一个程序执行逻辑单元。</p>
<p><img src="https://i.loli.net/2020/11/13/mEoWeQDFin72Rhd.png" alt=""></p>
<p>事务的基本语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">start transaction;或者 begin;</span><br><span class="line">-- 事务操作的语句</span><br><span class="line">commit; -- 使得当前的修改确认</span><br><span class="line">rollback; -- 使得当前的修改被放弃</span><br></pre></td></tr></table></figure>

<h3 id="事务的ACID特性"><a href="#事务的ACID特性" class="headerlink" title="事务的ACID特性"></a>事务的ACID特性</h3><ol>
<li><p><strong>原子性（Atomicity）</strong></p>
<p> 事务的原子性是指事务必须是一个原子的操作序列单元。事务中包含的各项操作在一次执行过程中，要么全部执行成功，要么全部执行失败。</p>
<p> 事务开始后所有操作，要么全部做完，要么全部不做，不可能停滞在中间环节。事务执行过程中出错，<br> 会回滚到事务开始前的状态，所有的操作就像没有发生一样。也就是说事务是一个不可分割的整体。</p>
</li>
<li><p><strong>一致性（Consistency）</strong></p>
<p> 事务的一致性是指事务的执行不能破坏数据库数据的完整性和一致性，不能时数据发生错乱</p>
</li>
<li><p><strong>隔离性（Isolation）</strong></p>
<p> 事务的隔离性是指在<strong>并发环境</strong>中，<strong>并发的事务</strong>是互相隔离的，各有各自的数据空间。</p>
</li>
<li><p><strong>持久性（Duration）</strong></p>
<p> 事务的持久性是指事务一旦提交后，数据库中的数据必须被永久的保存下来。即使服务器系统崩溃或服务器宕机，只要数据库重新启动，那么一定能够将其恢复到事务成功结束后的状态。</p>
</li>
</ol>
<h3 id="事务并发常见问题"><a href="#事务并发常见问题" class="headerlink" title="事务并发常见问题"></a>事务并发常见问题</h3><ul>
<li><p>脏读（Dirty Read）：读取到了没有提交的数据。</p>
<p>例如：事务A读取了事务B更新的数据，然后B回滚操作，那么A读取到的数据就是脏数据。</p>
</li>
<li><p>不可重复读（Unrepeatale Read）：同⼀条命令返回不同的结果集</p>
<p>例如：事务 A 多次读取同一数据，事务 B 在事务A多次读取的过程中，对数据作了更新并提交，导致事务A多次读取同一数据时，结果不一致。</p>
</li>
<li><p>幻读（Phantom Read）：重复查询的过程中，数据就发生了量的变化。</p>
</li>
</ul>
<h3 id="事务的隔离级别"><a href="#事务的隔离级别" class="headerlink" title="事务的隔离级别"></a>事务的隔离级别</h3><table>
<thead>
<tr>
<th>事务隔离级别</th>
<th>脏读</th>
<th>不可重复读</th>
<th>幻读</th>
</tr>
</thead>
<tbody><tr>
<td>读未提交(READ_UNCOMMITTED)</td>
<td>允许</td>
<td>允许</td>
<td>允许</td>
</tr>
<tr>
<td>读已提交(READ_COMMITTED)</td>
<td>禁止</td>
<td>允许</td>
<td>允许</td>
</tr>
<tr>
<td>可重复读(REPEATABLE_READ)</td>
<td>禁止</td>
<td>禁止</td>
<td>可能会</td>
</tr>
<tr>
<td>顺序读(SERIALIZABLE)</td>
<td>禁止</td>
<td>禁止</td>
<td>禁止</td>
</tr>
</tbody></table>
<blockquote>
<p>  4种事务隔离级别从上往下，级别越高，并发性越差，安全性就越高。 一般数据默认级别是读已提交或可重复读。</p>
</blockquote>
<blockquote>
<p>  <strong>查看和设置事务隔离级别的语句</strong></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-- 查看当前会话中事务的隔离级别</span><br><span class="line">select @@tx_isolation;</span><br><span class="line">-- 设置当前会话中的事务隔离级别</span><br><span class="line">set session transaction isolation level read uncommitted | read committed | repeatable read |  SERIALIZABLE</span><br></pre></td></tr></table></figure>
</blockquote>
<ol>
<li><p><strong>读未提交(READ_UNCOMMITTED)</strong></p>
<p>该隔离级别允许脏读取，其隔离级别是最低的。一个事务正在处理某⼀数据，并对其进行了更新，但同时尚未完成事务，因此还没有提交事务，而与此同时，允许另一个事务也能够访问该数据。</p>
</li>
<li><p><strong>读已提交(READ_COMMITTED)</strong></p>
<p>不同的事务执行的时候只能获取到已经提交的数据。 这样就不会出现上面的脏读的情况了。但是在同一个事务中执行同一个读取，结果不一致，即不可重复读问题</p>
</li>
<li><p><strong>可重复读(REPEATABLE_READ)</strong></p>
<p>保证在事务处理过程中，多次读取同一个数据时，该数据的值和事务开始时刻是一致的。因此该事务级别限制了不可重复读和脏读，但是有可能出现幻读的数据。</p>
</li>
<li><p><strong>顺序读(SERIALIZABLE)</strong></p>
<p>最严格的事务隔离级别，不允许事务并发，必须依次排序执行。</p>
</li>
</ol>
<p><strong>不同的隔离级别的锁的情况</strong></p>
<ol>
<li>读未提交（RU）: 有行级的锁，没有间隙锁。它与RC的区别是能够查询到未提交的数据。</li>
<li>读已提交（RC）：有行级的锁，没有间隙锁，读不到没有提交的数据。</li>
<li>可重复读（RR）：有行级的锁，也有间隙锁，每次读取的数据都是一样的，并且没有幻读的情况。</li>
<li>序列列化（S）：有行级锁，也有间隙锁，读表的时候，就已经上锁了。</li>
</ol>
<h2 id="MySQL存储过程"><a href="#MySQL存储过程" class="headerlink" title="MySQL存储过程"></a>MySQL存储过程</h2><p>存储过程简单来说，就是为以后的使用而保存的一条或多条MySQL语句的集合。</p>
<p>存储过程就像脚本语⾔言中函数定义⼀样，是一组为了完成特定功能的SQL语句集，经过编译之后存储在数据库中，在需要时直接调用。</p>
<p><strong>创建存储过程</strong> ：<code>create procedure 存储过程名()</code> </p>
<blockquote>
<p>  <code>\d //</code>：修改MySQL默认的语句结尾符<code>;</code>改为<code>//</code> 。</p>
<p>  <code>create procedure 存储过程名()</code>  创建语句</p>
<p>  <code>BEGIN</code>和<code>END</code>语句用来限定存储过程体</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- 定义存储过程 向users表中循环插入80条数据</span><br><span class="line">\d &#x2F;&#x2F;</span><br><span class="line">create procedure p1()</span><br><span class="line">begin</span><br><span class="line">set @i&#x3D;10;</span><br><span class="line">while @i&lt;90 do</span><br><span class="line">insert into users values(null,concat(&#39;user:&#39;,@i),@i,0); -- </span><br><span class="line">set @i&#x3D;@i+1;</span><br><span class="line">end while;</span><br><span class="line">end;</span><br><span class="line">&#x2F;&#x2F;</span><br></pre></td></tr></table></figure>

<p><strong>调用存储过程</strong>： <code>call 存储过程名()</code></p>
<p><strong>查看存储过程</strong>：<code>show create procedure 存储过程名\G</code></p>
<p><strong>删除存储过程</strong>：<code>drop procedure 存储过程名</code></p>
<h2 id="MySQL触发器"><a href="#MySQL触发器" class="headerlink" title="MySQL触发器"></a>MySQL触发器</h2><p>触发器是指MySQL<strong>响应</strong>写操作(增、删、改)而<strong>自动执行</strong>的一条或一组定义在BEGIN和END之间的MySQL语句。</p>
<p>或可理理解为：提前定义好一个或一组操作,在指定的SQL操作前或后来触发指定的SQL自动执行，触发器就像是JavaScript中的事件一样。</p>
<p><strong>触发器语法</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">-- 创建触发器</span><br><span class="line">\d &#x2F;&#x2F;</span><br><span class="line">CREATE TRIGGER trigger_name trigger_time trigger_event</span><br><span class="line">ON tbl_name FOR EACH ROW </span><br><span class="line">BEGIN</span><br><span class="line">trigger_stmt;</span><br><span class="line">END;</span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">\d ; 	-- 结束之后要把语句结束符改回来</span><br><span class="line">-- 说明：</span><br><span class="line"># trigger_name：触发器名称</span><br><span class="line"># trigger_time:触发时间，可取值：BEFORE或AFTER</span><br><span class="line"># trigger_event：触发事件，可取值：INSERT、UPDATE或DELETE。</span><br><span class="line"># tb1_name：指定在哪个表上</span><br><span class="line"># trigger_stmt：触发理SQL语句。</span><br><span class="line"></span><br><span class="line">-- 查看所有的 触发器器</span><br><span class="line">show triggers\G;</span><br><span class="line"></span><br><span class="line">-- 删除触发器</span><br><span class="line">drop trigger trigger_name;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  在使用触发器时，可以建立虚拟表来方便某些操作</p>
<ul>
<li>在INSERT触发器代码内，可引用⼀个名为NEW的虚拟表，访问被 插入的行;</li>
<li>在DELETE触发器代码内，可引用一个名为OLD的虚拟表，访问被删除的行;<ul>
<li>OLD中的值全都是只读的，不能更新。</li>
<li>在AFTER DELETE的触发器中无法获取OLD虚拟表</li>
</ul>
</li>
<li>在UPDATE触发器代码中<ul>
<li>可以引用一个名为OLD的虚拟表访问更新以前的值<br>可以引用一个名为NEW的虚拟表访问新更新的值;</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="MySQL的视图"><a href="#MySQL的视图" class="headerlink" title="MySQL的视图"></a>MySQL的视图</h2><p><strong>视图的定义及特性</strong></p>
<p>视图是虚拟的表。与包含数据的表不一样，视图只包含使用时动态检索数据的查询语句。</p>
<p>视图本身不不包含数据，它们返回的数据是从其他表中检索出来的。</p>
<p><strong>视图的作用</strong></p>
<ul>
<li><p>重用SQL语句，简化复杂的SQL操作。在编写查询后，可以方便地重用它而不必知道它的基本查询细节。</p>
</li>
<li><p>保护数据。可以给用户授予表的特定部分的访问权限而不是整个表的访问权限。</p>
</li>
<li><p>更改数据格式和表示。视图可返回与底层表的表示和格式不同的数据。</p>
</li>
</ul>
<blockquote>
<p>  <strong>注意：视图不能索引，也不不能有关联的触发器或默认值</strong>。</p>
</blockquote>
<p><strong>视图的语法和使用</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- 创建视图</span><br><span class="line">create view 视图名 as 要封装的select语句;</span><br><span class="line">-- 例如：</span><br><span class="line">create view v_users as select id,name,age from users where age &gt;&#x3D; 25 and age&lt;&#x3D; 35;</span><br><span class="line"></span><br><span class="line">-- 查看当前库中所有的视图</span><br><span class="line">show tables; -- 可以查看到所有的表和视图</span><br><span class="line">show table status where comment&#x3D;&#39;view&#39;\G; -- 只查看当前库中的所有视图</span><br><span class="line"></span><br><span class="line">-- 删除视图v_t1:</span><br><span class="line">drop view 视图名;</span><br></pre></td></tr></table></figure>

<h2 id="MySQL索引与优化"><a href="#MySQL索引与优化" class="headerlink" title="MySQL索引与优化"></a>MySQL索引与优化</h2><h3 id="索引概述"><a href="#索引概述" class="headerlink" title="索引概述"></a>索引概述</h3><p><strong>定义</strong></p>
<p>MySQL官方对索引的定义为：<strong>索引(Index)是帮助MySQL高效获取数据的数据结构。</strong></p>
<p>索引类似图书的目录，是一种有序结构，可以提高数据检索的效率，降低数据库的IO成本。</p>
<p><strong>分类</strong></p>
<table>
<thead>
<tr>
<th>索引类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>主键索引</td>
<td>根据主键建立的索引。<strong>不允许重复，不允许空值</strong>。<br>如果表中没有定义主键，InnoDB 会选择一个唯⼀的非空索引代替；如果没有这样的索引，InnoDB 会隐式定义一个主键来作为聚簇索引。</td>
</tr>
<tr>
<td>唯一索引</td>
<td>用来建立索引的列的值必须是<strong>唯一的，允许空值</strong></td>
</tr>
<tr>
<td>普通索引</td>
<td>用表中普通列构建的索引，没有任何限制</td>
</tr>
<tr>
<td>全文索引</td>
<td>用大文本对象的列构建的索引（5.6之前MyISAM支持，InnoDB不支持；8.0之前不支持中文。）</td>
</tr>
<tr>
<td>组合索引</td>
<td>用多个列组合构建的索引，这多个列的值不允许空值，<strong>需遵循“最左”原则</strong></td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">-- 创建索引和删除索引</span><br><span class="line">-- 1.主键索引 </span><br><span class="line">	-- 1.创建表时，直接创建主键索引 PRIMARY KEY</span><br><span class="line">	CREATE TABLE users( </span><br><span class="line">        id int NOT NULL AUTO_INCREMENT PRIMARY KEY</span><br><span class="line">	)ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8mb4;</span><br><span class="line">	-- 2.修改时添加主键和自增</span><br><span class="line">	alter table users modify uid int primary key AUTO_INCREMENT;</span><br><span class="line">	-- 删除主键索引注意需要先取消自增，再删除主键</span><br><span class="line">	-- 先取消自增,修改字段</span><br><span class="line">	alter table users modify uid int;</span><br><span class="line">	-- 删除主键</span><br><span class="line">	alter table users drop primary key;</span><br><span class="line">-- 2.唯一索引 </span><br><span class="line">	-- 1.创建表时,直接创建唯一索引UNIQUE KEY</span><br><span class="line">    CREATE TABLE users(</span><br><span class="line">    	name varchar(10) NOT NULL ,</span><br><span class="line">    	UNIQUE KEY name(name),	-- name为索引名</span><br><span class="line">    )ENGINE&#x3D;InnoDB DEFAULT CHARSET-utf8mb4</span><br><span class="line">    --  2.添加唯一索引UNIQUE当前列要求唯一，但允许为空</span><br><span class="line">    alter table users add untque u_name(name); -- u_name为索引名</span><br><span class="line">    -- 删除唯一索引</span><br><span class="line">    alter table users drop index u_name;</span><br><span class="line">-- 3.普通索引</span><br><span class="line">	-- 1.创建表时，直接创建普通索引 KEY</span><br><span class="line">    CREATE TABLE users(</span><br><span class="line">    	email varchar ( 10 ) NOT NULL ,</span><br><span class="line">    	KEY  index_email(email)		-- index_email为索引名</span><br><span class="line">    )ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8mb4</span><br><span class="line">    -- 2.添加索引</span><br><span class="line">    alter table users add index in_email(email);</span><br><span class="line">    -- 删除普通索引</span><br><span class="line">    drop index in_email on users;</span><br><span class="line">-- 4.添加全文索引</span><br><span class="line">	ALERT TABLE 表名 ADD FULLTEXT INDEX 索引名(要建立索引的字段);</span><br><span class="line">-- 5.组合索引 </span><br><span class="line">	-- 添加索引</span><br><span class="line">	alter table users add index in_x(email,phone,uname)</span><br><span class="line">	-- 删除索引</span><br><span class="line">	alter table users drop index in_x;</span><br></pre></td></tr></table></figure>

<h3 id="索引原理-索引与B-Tree"><a href="#索引原理-索引与B-Tree" class="headerlink" title="索引原理-索引与B+Tree"></a>索引原理-索引与B+Tree</h3><blockquote>
<p>  <strong>哈希索引</strong></p>
<p>  只有memory（内存）存储引擎支持哈希索引，哈希索引用索引列的值计算该值的hashCode，然后在hashCode相应的位置存执该值所在行数据的物理位置，因为使用散列算法，因此访问速度非常快，但是一个值只能对应一个hashCode，而且是散列的分布方式，因此哈希索引不支持范围查找和排序的功能。</p>
</blockquote>
<p>正常情况下，如果不指定索引的类型，那么一般是指B+Tree索引。</p>
<p>存储引擎以不同的方式使用B+Tree索引。性能也各有不同，InnoDB时按照原数格式进行存储的。</p>
<p>首先，要了解B+树之前，我们先了解一下B树，<strong>B树是一种自平衡树状结构，一般多用于存储系统上</strong>，比如数据库或文件系统。</p>
<blockquote>
<p>  一个n阶的B树，每个节点可以存储n-1个值</p>
</blockquote>
<p><img src="https://i.loli.net/2020/11/14/R9swUcgBDSIWZ5p.png" alt=""></p>
<p>可以看到B树每个叶子节点都带有数据，在效率上还是存在一些弊端，可以进行优化，提高查询效率，便演变出了B+树，如下图所示</p>
<p><img src="https://i.loli.net/2020/11/14/FeBMcODgiwTVfqA.png" alt="image-20201114211729600"></p>
<p>使用B+树的优势</p>
<ol>
<li><p>磁盘读写代价更低</p>
<p>B树的数据和索引都在同一个节点上，那么每个块中包含的索引是少量的，如果想要取出比较深层的数据，意味着要读取更多的块，才能得到想要的索引和数据，那么就增加了IO次数；</p>
<p>而B+树中每个块能存储的索引是B树的很多倍，那么获取比较深层的数据，也只需要读取少量的块<br>就可以，那么就减少了磁盘的IO次数</p>
</li>
<li><p>随机IO的次数更少</p>
<p>随机I/O是指读写操作时间连续，但访问地址不连续，时长约为10ms。</p>
<p>顺序I/O是指读取和写入操作基于逻辑块逐个连续访问来自相邻地址的数据，时长约为0.1ms</p>
<p>在相同情况下，B树要进行更多的随机IO，而B+树需要更多的顺序IO，因此B+树，效率也更快</p>
</li>
<li><p>查询速度更稳定</p>
<p>由于B+Tree非叶子节点不存储数据（data)，因此所有的数据都要查询至叶子节点，而叶子节点的<br>高度都是相同的，因此所有数据的查询速度都是一样的。</p>
</li>
</ol>
<h3 id="聚簇索引和非聚簇索引"><a href="#聚簇索引和非聚簇索引" class="headerlink" title="聚簇索引和非聚簇索引"></a>聚簇索引和非聚簇索引</h3><p><strong>聚簇索引：</strong>索引即数据，找到索引便找到了数据</p>
<p><strong>非聚簇索引：</strong>索引是一个文件，数据在另一个文件，根据索引文件找到数据的key值，然后到数据文件中根据key值找到数据</p>
<p><img src="https://i.loli.net/2020/11/14/g98ev1TwkP5cAUS.png" alt=""></p>
<blockquote>
<p>  <strong>MyISAM的索引方案</strong></p>
<p>  InnoDB中索引即数据，也就是聚簇索引的那棵B+树的叶子节点中已经把所有完整的用户记录都包含了了，而MyISAM的索引方案虽然也使用树形结构，但是却将索引和数据分开存储，也就是把索引信息单独存到一个文件中，这个文件称为索引文件。</p>
<p>  MyISAM会单独为表的主键创建⼀个索引，只不过在索引的叶子节点中存储的不是完整的数据记录，而是主键值 + 行号的组合。也就是先通过索引找到对应的行号，再通过行号去找对应的记录！其它非主键索引也是一样的，这种情况我们称为“回行”。所以在MyISAM中所有的索引都是非聚簇索引，也叫二级索引。</p>
<p>  <img src="https://i.loli.net/2020/11/14/PbsI1ugyhd9UZGz.png" alt=""></p>
<p>  <strong>MyISAM和InnoDB的区别</strong></p>
<ul>
<li><p>数据存储方式：</p>
<ul>
<li>InnoDB由两种文件组成，表结构、数据和索引</li>
<li>MyISAM由三种文件组成，表结构、数据、索引</li>
</ul>
</li>
<li><p>索引的方式：</p>
<ul>
<li>索引的底层都是基于B+Tree的数据结构建立</li>
<li>InnoDB中主键索引为聚簇索引，辅助索引是非聚簇索引</li>
<li>MyISAM中数据和索引存在不同的文件中，因此都是非聚簇索引</li>
</ul>
</li>
<li><p>事务的支持：</p>
<ul>
<li>InnoDB支持事务</li>
<li>MyISAM不支持事务</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="慢查询与SQL优化"><a href="#慢查询与SQL优化" class="headerlink" title="慢查询与SQL优化"></a>慢查询与SQL优化</h3><h4 id="慢查询与Explain执行计划"><a href="#慢查询与Explain执行计划" class="headerlink" title="慢查询与Explain执行计划"></a>慢查询与Explain执行计划</h4><p>MySQL的慢查询，全名是慢查询日志，是MySQL提供的一种日志记录，用来记录在MySQL中响应时间超过阀值的语句。</p>
<p>默认情况下，MySQL数据库并不启动慢查询目思，需要手动来设置这个参数。如果不是调优需要的话，一般不建议启动该参数，开启慢查询日志会或多或少带来一定的性能影响。</p>
<p><img src="https://i.loli.net/2020/11/14/dlLvRoOMuDXxQY8.png" alt=""></p>
<p><strong>Explain执行计划</strong></p>
<p>一条查询语句在经过MySQL查询优化器的各种基于成本和规则的优化会后生成一个所谓的执行计划。这个执行计划展示了接下来具体执行查询的方式，比如多表连接的顺序是什么，对于每个表采用什么访问方法来具体执行查询等等。MySQL为我们提供了EXPLAIN语句来帮助我们查看某个语句的具体执行计划。</p>
<p><img src="https://i.loli.net/2020/11/14/V5hRgPtf2BxEYM1.png" alt=""></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>参数解释</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>在一个大的查询语句中每个 SELECT关键字都对应一个唯一的 id</td>
</tr>
<tr>
<td>select_type</td>
<td>SELECT关键字对应的那个查询的类型</td>
</tr>
<tr>
<td>table</td>
<td>表名</td>
</tr>
<tr>
<td>partitions</td>
<td>匹配的分区信息</td>
</tr>
<tr>
<td>type</td>
<td>针对单表的访问方法</td>
</tr>
<tr>
<td>possible_keys</td>
<td>可能用到的索引</td>
</tr>
<tr>
<td>key</td>
<td>实际上使用的索引</td>
</tr>
<tr>
<td>key_len</td>
<td>实际使用到的索引长度</td>
</tr>
<tr>
<td>ref</td>
<td>当使用索引列等值查询时，与索引列进行等值匹配的对象信息</td>
</tr>
<tr>
<td>rows</td>
<td>预估的需要读取的记录条数</td>
</tr>
<tr>
<td>ﬁltered</td>
<td>某个表经过搜索条件过滤后剩余记录条数的百分比</td>
</tr>
<tr>
<td>Extra</td>
<td>一些额外的信息</td>
</tr>
</tbody></table>
<h3 id="SQL优化"><a href="#SQL优化" class="headerlink" title="SQL优化"></a>SQL优化</h3><p><strong>索引优化</strong></p>
<ul>
<li><p>适当建立索引</p>
<ul>
<li>创建并使用自增数字来建立主键索引</li>
<li>为经常作为where条件的字段建立索引</li>
<li>添加索引的字段尽可能的保持唯一性</li>
<li>可考虑使用组合索引并进行<em>索引覆盖</em>(多个字段组合成一个联合索引，在查询时，所要的字段和查询条件中的索引是一致的)</li>
<li>索引绝不是加的越多越好，每建立一个索引都会建立一棵B+树，并且需要维护，很费性能和存储空间。</li>
</ul>
</li>
<li><p>合理使用索引，查询时避免索引失效</p>
<ul>
<li>不要在查询的索引列上使用函数</li>
<li>不要在查询的索引列上进行运算</li>
<li>避免查询条件左右类型不匹配发生隐式转换</li>
<li>使用like模糊查询时避免通配符%放在第一位</li>
<li>多个单列索引并不是最佳选择，可以使用组合索引</li>
<li>使用组合查询时谨记最左前缀原则（从最左字段开始使用索引：查询条件中使用了组合索引的第一个字段，索引才会被使用。因此，在组合索引中索引列的顺序至关重要。如果不是按照索引的最左列开始查找，则无法使用索引。）</li>
</ul>
</li>
</ul>
<p><strong>SQL语句的优化</strong></p>
<ul>
<li>避免嵌套语句（子查询）</li>
<li>避免多表查询（复杂查询简单化）</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.pengspace.top/2020/11/16/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/05/01/VMPAdgQKfpzoWtc.jpg">
      <meta itemprop="name" content="AnswerCoder">
      <meta itemprop="description" content="记录自己学习的历程">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="鹏空间">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/16/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">MySQL数据库基础</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-11-16 19:36:21 / 修改时间：19:41:29" itemprop="dateCreated datePublished" datetime="2020-11-16T19:36:21+08:00">2020-11-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">评论数：</span>
    
    <a title="valine" href="/2020/11/16/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/11/16/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>20k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>19 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="数据库介绍"><a href="#数据库介绍" class="headerlink" title="数据库介绍"></a>数据库介绍</h2><ul>
<li><p>什么是数据库</p>
<p>数据库(Database)就是按照数据结构来组织，存储和管理数据的仓库。<br>专业的数据库是专门对数据进行创建，访问，管理，搜索等操作的软件，比起我们自己用文件读写的方式，用它对数据进行管理更加的方便，快速，安全。</p>
</li>
<li><p>数据库特点及作用</p>
<ul>
<li>对数据进行持久化的保存</li>
<li>方便数据的存储和查询，速度快，安全，方便</li>
<li>可以处理并发访问</li>
<li>更加安全的权限管理访问机制</li>
</ul>
</li>
<li><p>常见的数据库</p>
<p>数据库分两大类，一类是 <a href="https://baike.baidu.com/item/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/8999831?fr=aladdin" target="_blank" rel="noopener">关系型数据库</a>。另一类叫做 <a href="https://baike.baidu.com/item/NoSQL/8828247?fromtitle=%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93&fromid=6376860&fr=aladdin" target="_blank" rel="noopener">非关系型数据库</a>。</p>
<ul>
<li>关系型数据库： MySQL，Oracle，PostgreSQL，SQLserver…</li>
<li>非关系型数据库：Redis内存数据库，MongoDB文档数据库…</li>
</ul>
<p><img src="https://i.loli.net/2020/11/07/fdz4w9cKgm5eoqu.png" alt=""></p>
<p>关系型数据库与非关系型数据库对比可以看这篇文章:</p>
<p><a href="https://my.oschina.net/u/3647687/blog/1534979" target="_blank" rel="noopener">https://my.oschina.net/u/3647687/blog/1534979</a></p>
</li>
</ul>
<blockquote>
<p>  ‘</p>
<p>  MySQL是最流行的关系型数据库管理系统</p>
<p>  关于数据库的一些概念</p>
<ul>
<li><p>数据库 Database</p>
</li>
<li><p>数据表 Tables</p>
</li>
<li><p>数据字段 filed</p>
</li>
<li><p>行 row ：每一行就是一条数据</p>
</li>
<li><p>列 col</p>
<p><img src="https://i.loli.net/2020/11/07/tqBQ3OWFiJYAVXM.png" alt=""></p>
<p><img src="https://i.loli.net/2020/11/07/4JtSwzNr2am3qZb.png" alt=""></p>
</li>
</ul>
</blockquote>
<h2 id="MySql基础操作"><a href="#MySql基础操作" class="headerlink" title="MySql基础操作"></a>MySql基础操作</h2><h3 id="使用MySql的三种方式："><a href="#使用MySql的三种方式：" class="headerlink" title="使用MySql的三种方式："></a>使用MySql的三种方式：</h3><blockquote>
<p>  方式一：通过在命令行敲命令来操作</p>
<p>  方式二：通过图型界面工具,如 Navicat 等</p>
<p>  方式三：通过编程语言(python,php,java,go…)执行mysql命令</p>
</blockquote>
<h3 id="SQL-Structure-query-language-结构化查询语言"><a href="#SQL-Structure-query-language-结构化查询语言" class="headerlink" title="SQL ( Structure query language ) 结构化查询语言"></a>SQL ( Structure query language ) 结构化查询语言</h3><blockquote>
<p>  SQL语言分为4个部分：DDL（定义）、DML（操作）、DQL（查询）、DCL（控制）</p>
</blockquote>
<p>####SQL语句中的快捷指令</p>
<blockquote>
<p>  <code>\G</code> 格式化输出（文本式，竖立显示）</p>
<p>  <code>\s</code> 查看服务器端信息</p>
<p>  <code>\c</code> 结束命令输入操作</p>
<p>  <code>\q</code>退出当前sql命令行模式</p>
<p>  <code>\h</code> 查看帮助</p>
</blockquote>
<h3 id="数据库操作步骤-windows命令行"><a href="#数据库操作步骤-windows命令行" class="headerlink" title="数据库操作步骤(windows命令行)"></a>数据库操作步骤(windows命令行)</h3><ol>
<li><strong>开启数据库服务：</strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net start 你电脑中mysql服务的服务名</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  你mysql服务的服务名一般安装时就指定好的，默认是mysql。如果不是可以从系统服务里找一下</p>
<p>  windows中查看你的mysql服务名</p>
<ol>
<li><p><kbd>win</kbd>+<kbd>R</kbd>键 打开运行，输入<code>services.msc</code>，确定</p>
<p><img src="https://i.loli.net/2020/11/07/dHBwemsUYk8Kr79.png" alt="image-20201107184754395"></p>
</li>
<li><p>找到你mysql的服务名</p>
<p><img src="https://i.loli.net/2020/11/07/Wv9U7rtKES5ohRZ.png" alt="image-20201107185331055"></p>
</li>
</ol>
</blockquote>
<p><img src="https://i.loli.net/2020/11/07/9NtUVPWJTiYzwGZ.png" alt=""></p>
<blockquote>
<p>  关闭数据库服务：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net stop 你电脑中mysql服务的服务名</span><br></pre></td></tr></table></figure>
</blockquote>
<ol start="2">
<li><strong>连接数据库：</strong></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -h 服务器地址 -u 用户名 -p (密码) -P 端口</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2020/11/07/iCOfXvus3qG7A26.png" alt="image-20201107190657607"></p>
<p>如果时本地操作可以省略 -h 和 -P，写成这样即可</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u 用户名 -p (密码)</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>操作(增删改)</strong></li>
</ol>
<p>后面会详细讲解</p>
<ol start="4">
<li><strong>退出MySql</strong></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">exit;</span><br><span class="line">-- 或者</span><br><span class="line">quit;</span><br></pre></td></tr></table></figure>

<p>也可以用快捷命令<code>\q</code></p>
<h2 id="MySql数据类型"><a href="#MySql数据类型" class="headerlink" title="MySql数据类型"></a>MySql数据类型</h2><blockquote>
<p>  数据类型是定义列中可以存储什么类型的数据以及该数据实际怎样存储的基本规则</p>
<p>  数据类型限制存储在数据列中的数据的类型。例如，数值数据类型列只能接受数值类型的的数据</p>
<p>  在设计表时，应该特别重视所用的数据类型。使用错误的数据类型可能会严重地影响应用程序的功能和性能。</p>
<p>  后续更改包含数据的列不是一件小事（而且这样做可能会导致数据丢失），定义之后一般不会再修改字段的数据类型</p>
</blockquote>
<p><strong>基本常用的数据类型</strong></p>
<blockquote>
<p>  数据类型：整型、浮点型、字符串、日期等</p>
</blockquote>
<h3 id="字符串数据类型"><a href="#字符串数据类型" class="headerlink" title="字符串数据类型"></a>字符串数据类型</h3><p>最常用的数据类型是串数据类型。它们存储串，如名字、地址、电 话号码、邮政编码等。</p>
<p>最常用的有三种基本的串类型，分别为<strong>定长串<code>char</code></strong>、<strong>变长串<code>varchar</code></strong>和<strong>变成文本<code>text</code></strong></p>
<p><strong>定长串：<code>char</code></strong></p>
<ul>
<li><p>接受长度固定的字符串，其长度是在创建表时指定的。不允许存储多于指定长度字符的数据。</p>
</li>
<li><p>指定长度后，就会分配固定的存储空间用于存放数据</p>
</li>
</ul>
<blockquote>
<p>  <code>char(7)</code> 不管实际插入多少字符，它都会占用7个字符位置</p>
</blockquote>
<p><strong>变长串 ：<code>varchar</code></strong></p>
<ul>
<li>存储可变长度的字符串 </li>
</ul>
<blockquote>
<p>  <code>varchar(7)</code> 如果实际插入4个字符，那么它只占4个字符位置，当然插入的数据长度不能超过7个字符。</p>
</blockquote>
<blockquote>
<p>  <strong>注意：</strong></p>
<p>  既然变长串数据类型这样灵活，为什么还要使用定长串数据类型？</p>
<p>  回答：因为性能，MySQL处理定长列远比处理变长列快得多。</p>
</blockquote>
<p><strong>变长文本：<code>text</code></strong></p>
<p>变长文本类型存储，最大长度为64K</p>
<p><img src="https://i.loli.net/2020/11/07/YMBXG18lpdgKWVm.png" alt="串类型"></p>
<h3 id="数值类型"><a href="#数值类型" class="headerlink" title="数值类型"></a>数值类型</h3><p>数值数据类型存储数值。MySQL支持多种数值数据类型，每种存储的数值具有不同的取值范围。支持的取值范围越大，所需存储空间越多。</p>
<p><img src="https://i.loli.net/2020/11/07/TrcszjHbp2lK7FR.png" alt="数值类型"></p>
<p>举例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">decimal(5, 2) 	<span class="comment">--表示数值总共5位, 小数占2位</span></span><br><span class="line">tinyint 		<span class="comment">--1字节(8位) 0-255/-128-127</span></span><br><span class="line">int 			<span class="comment">--4字节。 -21亿-21亿/0-42亿</span></span><br><span class="line"><span class="comment">-- MySQL中没有专门存储货币的数据类型，一般情况下使用DECIMAL(8, 2)或float</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>  <strong>有符号或无符号</strong></p>
<p>  所有数值数据类型（除BIT和BOOLEAN外）都可以有符号或无符号</p>
<p>  有符号数值列可以存储正或负的数值</p>
<p>  无符号数值列只能存储正数。</p>
<p>  默认情况为有符号，但如果你知道自己不需要存储负值，可以使用UNSIGNED关键字</p>
</blockquote>
<h3 id="日期和时间类型"><a href="#日期和时间类型" class="headerlink" title="日期和时间类型"></a>日期和时间类型</h3><p>MySQL使用专门的数据类型来存储日期和时间值</p>
<p><img src="https://i.loli.net/2020/11/07/i9WorwyE14DXhZg.png" alt=""></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">datetime <span class="comment">-- 8字节 范围：1000-01-01 00:00:00 ~ 9999-12-31 23:59:59</span></span><br></pre></td></tr></table></figure>

<h3 id="二进制数据类型"><a href="#二进制数据类型" class="headerlink" title="二进制数据类型"></a>二进制数据类型</h3><p>二进制数据类型可存储任何数据（甚至包括二进制信息），如图像、多媒体、字处理文档等</p>
<blockquote>
<p>  通常情况下，不会使用二进制数据类型进行存储到数据库中</p>
</blockquote>
<p><img src="https://i.loli.net/2020/11/07/xiOq49MkGC7mR2p.png" alt="二进制类型"></p>
<h3 id="表的字段约束"><a href="#表的字段约束" class="headerlink" title="表的字段约束"></a>表的字段约束</h3><ul>
<li><code>unsigned</code> 无符号(给数值类型使用，表示为正数，不写可以表示正负数都可以)</li>
<li>字段类型后面加括号限制宽度<ul>
<li>char(5)、varchar(7) 在字符类型后面加限制，表示字符串的长度</li>
<li>int(4) 没有意义，默认无符号的int为int(11)，有符号的int(10)，在数字类型后面只加(x)限制宽度没有意义。</li>
<li><code>int(4) unsigned zerofill</code>只有当给int类型设置有前导零(zerofill)时，设置int的宽度才有意义(不够长度会在前面补 0)。</li>
</ul>
</li>
<li><code>not null</code> 不能为空，在操作数据库时如果输入该字段的数据为NULL ，就会报错</li>
<li><code>default</code> 设置默认值</li>
<li><code>primary key</code> 主键不能为空，且唯一。一般和自动递增一起配合使用。</li>
<li><code>auto_increment</code> 定义列为自增属性，一般用于主键，数值会自动加1</li>
<li><code>unique</code> 唯一索引(数据不能重复:用户名)可以增加查询速度，但是会降低插入和更新速度</li>
</ul>
<h3 id="MySQL的运算符"><a href="#MySQL的运算符" class="headerlink" title="MySQL的运算符"></a>MySQL的运算符</h3><ul>
<li><p>算术运算符： +、 -、 *、 /或DIV、 %或MOD</p>
</li>
<li><p>比较运算符： =、 &gt;、 &lt;、 &gt;=、 &lt;=、!=</p>
</li>
<li><p>数据库特有的比较： in、not in、is null、is not null、like、between、and</p>
</li>
<li><p>逻辑运算符： and、or、not</p>
</li>
<li><p>like: 支持特殊符号 % 和 _  </p>
<p>其中 % 表示任意数量的任意字符， _ 表示任意一位字符</p>
<p><strong>详细内容可以看<a href="https://www.runoob.com/mysql/mysql-operator.html" target="_blank" rel="noopener">菜鸟编程MySQL运算符</a></strong></p>
</li>
</ul>
<h3 id="主键"><a href="#主键" class="headerlink" title="主键"></a>主键</h3><blockquote>
<p>  <font color=red>表中每一行都应该有可以唯一标识自己的一列，用于记录两条记录不能重复</font>，任意两行都不具有相同的主键值</p>
<p>  应该总是定义主键 虽然并不总是都需要主键，但大多数数据库设计人员都应保证他们创建的每个表具有一个主键，以便于以后的数据操作和管理。</p>
</blockquote>
<p><strong>对于主键的要求</strong></p>
<ul>
<li><p>记录一旦插入到表中，主键最好不要再修改</p>
</li>
<li><p>不允许NULL</p>
</li>
<li><p>不在主键列中使用可能会更改的值。（例如，如果使用一个名字作为主键以标识某个供应商，当该供应商合并或更改其名字时，就得更改这个主键。）</p>
</li>
<li><p>自增整数类型：数据库会在插入数据时自动为每一条记录分配一个自增整数，这样我们就完全不用担心主键重复，也不用自己预先生成主键</p>
</li>
<li><p>可以使用多个列作为联合主键，但联合主键并不常用。使用多列作为主键时，所有列值的组合必须是唯一的</p>
</li>
</ul>
<h2 id="MySql数据库表引擎与字符集"><a href="#MySql数据库表引擎与字符集" class="headerlink" title="MySql数据库表引擎与字符集"></a>MySql数据库表引擎与字符集</h2><h3 id="服务器处理客户端请求"><a href="#服务器处理客户端请求" class="headerlink" title="服务器处理客户端请求"></a>服务器处理客户端请求</h3><p>其实不论客户端进程和服务器进程是采用哪种方式进行通信，最后实现的效果都是：<strong>客户端进程向服务器进程发送一段文本（MySQL语句），服务器进程处理后再向客户端进程发送一段文本（处理结果）。</strong></p>
<p>那服务器进程对客户端进程发送的请求做了什么处理，才能产生最后的处理结果呢？客户端可以向服务器发送增删改查各类请求，我们这里以比较复杂的查询请求为例来画个图展示一下大致的过程：</p>
<p><img src="https://i.loli.net/2020/11/08/iW2HgJZTRpaGBby.png" alt=""></p>
<blockquote>
<p>  虽然查询缓存有时可以提升系统性能，但也不得不因维护这块缓存而造成一些开销，比如每次都要去查询缓存中检索，查询请求处理完需要更新查询缓存，维护该查询缓存对应的内存区域。从MySQL 5.7.20开始，不推荐使用查询缓存，并在MySQL 8.0中删除。</p>
</blockquote>
<h3 id="存储引擎"><a href="#存储引擎" class="headerlink" title="存储引擎"></a>存储引擎</h3><p><code>MySQL</code> 服务器把<strong>数据的存储和提取操作</strong>都封装到了一个叫<strong>存储引擎</strong>的模块里。我们知道表是由一行一行的记录组成的，但这只是一个逻辑上的概念，物理上如何表示记录，怎么从表中读取数据，怎么把数据写入具体的物理存储器上，这都是存储引擎负责的事情。为了实现不同的功能， <code>MySQL</code> 提供了各式各样的存储引擎，不同存储引<br>擎管理的表具体的存储结构可能不同，采用的存取算法也可能不同。</p>
<blockquote>
<p>  存储引擎以前叫做<strong>表处理器</strong>，它的功能就是接收上层传下来的指令，然后对表中的数据进行提取或写入操作。</p>
</blockquote>
<p>为了管理方便，人们把<strong>连接管理、查询缓存、语法解析、查询优化</strong>这些并不涉及真实数据存储的功能划分为<br><code>MySQL server</code> 的功能，把真实存取数据的功能划分为存储引擎的功能。各种不同的存储引擎向上边的<code>MySQL server</code> 层提供统一的调用接口（也就是存储引擎API），包含了几十个底层函数，像”读取索引第一条内容”、”读取索引下一条内容”、”插入记录”等等。</p>
<p>所以在MySQL server 完成了查询优化后，只需按照生成的执行计划调用底层存储引擎提供的API，获取到数据后返回给客户端就好了。</p>
<p>MySQL 支持非常多种存储引擎：</p>
<table>
<thead>
<tr>
<th>存储引擎</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>ARCHIVE</code></td>
<td>用于数据存档（行被插入后不能再修改）</td>
</tr>
<tr>
<td><code>BLACKHOLE</code></td>
<td>丢弃写操作，读操作会返回空内容</td>
</tr>
<tr>
<td><code>CSV</code></td>
<td>在存储数据时，以逗号分隔各个数据项</td>
</tr>
<tr>
<td><code>FEDERATED</code></td>
<td>用来访问远程表</td>
</tr>
<tr>
<td><code>InnoDB</code></td>
<td>具备外键支持功能的事务存储引擎</td>
</tr>
<tr>
<td><code>MEMORY</code></td>
<td>置于内存的表</td>
</tr>
<tr>
<td><code>MERGE</code></td>
<td>用来管理多个MyISAM表构成的表集合</td>
</tr>
<tr>
<td><code>MyISAM</code></td>
<td>主要的非事务处理存储引擎</td>
</tr>
<tr>
<td><code>NDB</code></td>
<td>MySQL集群专用存储引擎</td>
</tr>
</tbody></table>
<h4 id="MyISAM和InnoDB表引擎的区别"><a href="#MyISAM和InnoDB表引擎的区别" class="headerlink" title="MyISAM和InnoDB表引擎的区别"></a>MyISAM和InnoDB表引擎的区别</h4><ol>
<li><p><strong>事务支持</strong></p>
<p>MyISAM不支持事务，而InnoDB支持。</p>
<blockquote>
<p>  事物：访问并更新数据库中数据的执行单元。事物操作中，要么都执行要么都不执行</p>
</blockquote>
</li>
<li><p><strong>存储结构</strong></p>
<p>MyISAM：每个MyISAM在磁盘上存储成三个文件。</p>
<ul>
<li>.frm文件存储表结构。</li>
<li>.MYD文件存储数据。</li>
<li>.MYI文件存储索引。</li>
</ul>
<p>InnoDB：主要分为两种文件进行存储。</p>
<ul>
<li>.frm 存储表结构</li>
<li>.ibd 存储数据和索引 （也可能是多个.ibd文件，或者是独立的表空间文件）</li>
</ul>
</li>
<li><p><strong>表锁差异</strong></p>
<p>MyISAM：<strong>只支持表级锁</strong>，用户在操作myisam表时，select，update，delete，insert语句都会给表自动加锁，如果加锁以后的表满足insert并发的情况下，可以在表的尾部插入新的数据。 </p>
<p>InnoDB：<strong>支持事务和行级锁，是innodb的最大特色。</strong>行锁大幅度提高了多用户并发操作的性能。但是InnoDB的行锁，<strong>InnoDB的行锁是基于索引建立的，如果索引失效或者没有索引，那么，行锁失效，由行锁升级为表锁。</strong></p>
</li>
<li><p><strong>表主键</strong></p>
<p>MyISAM：允许没有任何索引和主键的表存在，索引都是保存行的地址。 </p>
<p>InnoDB：如果没有设定主键或者非空唯一索引，就会自动生成一个6字节的主键(用户不可见)，数据是主索引的一部分，附加索引保存的是主索引的值。InnoDB的主键范围更大，最大是MyISAM的2倍。</p>
</li>
<li><p><strong>表的具体行数</strong></p>
<p>MyISAM：保存有表的总行数，如果<code>select count(*) from table;</code>会直接取出出该值。 </p>
<p>InnoDB：没有保存表的总行数(只能遍历)，如果使用<code>select count(*) from table;</code>就会遍历整个表，消耗相当大，但是在加了wehre条件后，myisam和innodb处理的方式都一样。</p>
</li>
<li><p><strong>CURD操作</strong></p>
<p>MyISAM：如果执行大量的<code>SELECT</code>，MyISAM是更好的选择。 </p>
<p>InnoDB：如果你的数据执行大量的<code>INSERT</code>或<code>UPDATE</code>，出于性能方面的考虑，应该使用InnoDB表。<code>DELETE</code> 从性能上InnoDB更优，但<code>DELETE FROM table</code>时，InnoDB不会重新建立表，而是一行一行的删除，在innodb上如果要清空保存有大量数据的表，最好使用<code>truncate table</code>这个命令。</p>
</li>
<li><p><strong>外键</strong></p>
<p>MyISAM：不支持 </p>
<p>InnoDB：支持</p>
</li>
<li><p><strong>查询效率</strong></p>
<p>MyISAM相对简单，所以在效率上要优于InnoDB，小型应用可以考虑使用MyISAM。</p>
<p>推荐考虑使用InnoDB来替代MyISAM引擎，原因是InnoDB自身很多良好的特点，比如事务支持、存储过程、视图、行级锁定等等，在并发很多的情况下，相信InnoDB的表现肯定要比MyISAM强很多。</p>
<p>另外，任何一种表都不是万能的，只有恰当的针对业务类型来选择合适的表类型，才能最大的发挥MySQL的性能优势。如果不是很复杂的Web应用，非关键应用，还是可以继续考虑MyISAM的，这个具体情况可以自己斟酌。</p>
</li>
<li><p><strong>MyISAM和InnoDB两者的应用场景：</strong></p>
<p>MyISAM管理非事务表。它提供高速存储和检索，以及全文搜索能力。如果应用中需要执行大量的<code>SELECT</code>查询，那么MyISAM是更好的选择。 </p>
<p>InnoDB用于事务处理应用程序，具有众多特性，包括ACID事务支持。如果应用中需要执行大量的<code>INSERT</code>或<code>UPDATE</code>操作，则应该使用InnoDB，这样可以提高多用户并发操作的性能。现在默认最常使用InnoDB。</p>
</li>
</ol>
<h3 id="字符集和编码"><a href="#字符集和编码" class="headerlink" title="字符集和编码"></a>字符集和编码</h3><blockquote>
<p>  我们知道在计算机中只能存储二进制数据，那该怎么存储字符串呢？当然是建立字符与二进制数据的映射关系了，建立这个关系最起码要搞清楚两件事儿：</p>
<ol>
<li><p>你要把哪些字符映射成二进制数据？也就是界定清楚字符范围。</p>
</li>
<li><p>怎么映射？</p>
<p> 将一个字符映射成一个二进制数据的过程也叫做<strong>编码</strong>，将一个二进制数据映射到一个字符的过程叫做<strong>解码</strong>。</p>
</li>
</ol>
</blockquote>
<p>人们抽象出一个字符集的概念来描述某个字符范围的编码规则，以下是一些常用字符集：</p>
<ul>
<li><p><code>ASCII</code> 字符集</p>
<p>共收录128个字符，包括空格、标点符号、数字、大小写字母和一些不可见字符。由于总共才128个字符，所以可以使用1个字节来进行编码，我们看一些字符的编码方式：</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">'L' -&gt; 01001100（十六进制：0x4C，十进制：76）</span><br><span class="line">'M' -&gt; 01001101（十六进制：0x4D，十进制：77）</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>ISO 8859-1</code> 字符集</p>
<p>共收录256个字符，是在ASCII 字符集的基础上又扩充了128个西欧常用字符(包括德法两国的字母)，也可以<br>使用1个字节来进行编码。这个字符集也有一个别名<code>latin1</code> 。</p>
</li>
<li><p><code>GB2312</code> 字符集</p>
<p>收录了汉字以及拉丁字母、希腊字母、日文平假名及片假名字母、俄语西里尔字母。其中收录汉字6763个，其他文字符号682个。同时这种字符集又兼容<code>ASCII</code>  字符集，所以在编码方式上显得有些奇怪：</p>
<ul>
<li>如果该字符在ASCII 字符集中，则采用1字节编码。否则采用2字节编码。</li>
</ul>
<p>这种表示一个字符需要的字节数可能不同的编码方式称为<strong>变长编码方式</strong>。比方说字符串’爱u’ ，其中’爱’ 需要用2个字节进行编码，编码后的十六进制表示为0xCED2 ， ‘u’ 需要用1个字节进行编码，编码后的十六进制表示为0x75 ，所以拼合起来就是0xCED275 。</p>
</li>
<li><p><code>GBK</code> 字符集</p>
<p><code>GBK</code> 字符集只是在收录字符范围上对<code>GB2312</code> 字符集作了扩充，编码方式上兼容<code>GB2312</code> 。</p>
</li>
<li><p><code>Unicode</code> 字符集</p>
<p>也称为万国码，收录地球上能想到的所有字符，而且还在不断扩充。这种字符集兼容<code>ASCII</code> 字符集，采用变长编码方式，编码一个字符需要使用1～4个字节，比如：</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">'L' -&gt; 01001100（十六进制：0x4C）</span><br><span class="line">'啊' -&gt; 111001011001010110001010（十六进制：0xE5958A）</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  我们常用的<code>utf8</code>只是<code>Unicode</code>字符集的一种编码方案，<code>Unicode</code>字符集可以采用<code>utf8</code>、<code>utf16</code>、<code>utf32</code>这几种编码方案，<code>utf8</code>使用1～4个字节编码一个字符，<code>utf16</code>使用2个或4个字节编码一个字符，<code>utf32</code>使用4个字节编码一个字符</p>
</blockquote>
</li>
</ul>
<p>对于同一个字符，不同字符集也可能有不同的编码方式。比如对于汉字’我’ 来说， <code>ASCII</code> 字符集中根本没有收录这个字符， utf8 和gb2312 字符集对汉字’我’的编码方式如下：</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">utf8编码：  111001101000100010010001 (3个字节，十六进制表示是：0xE68891)</span><br><span class="line">gb2312编码：1100111011010010 (2个字节，十六进制表示是：0xCED2)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  <strong>更多关于字符集和编码的内容可以看下面这篇文章</strong></p>
<p>  <strong><a href="http://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html</a></strong></p>
</blockquote>
<h4 id="MySQL中的utf8和utf8mb4"><a href="#MySQL中的utf8和utf8mb4" class="headerlink" title="MySQL中的utf8和utf8mb4"></a>MySQL中的utf8和utf8mb4</h4><p>我们上边说<code>utf8</code> 字符集表示一个字符需要使用1～4个字节，但是我们常用的一些字符使用1～3个字节就可以表示了。而在MySQL 中字符集表示一个字符所用最大字节长度在某些方面会影响系统的存储和性能，所以MySQL的设计人员定义了两个概念：</p>
<ul>
<li><code>utf8mb3</code> ：阉割过的utf8 字符集，只使用1～3个字节表示字符。</li>
<li><code>utf8mb4</code> ：正宗的utf8 字符集，使用1～4个字节表示字符。</li>
</ul>
<p><strong>注意：</strong>在MySQL 中，utf8指的是utf8mb3，所以之后在MySQL中提到utf8 就意味着使用1~3个字节来表示一个字符，如果大家有使用4字节编码一个字符的情况，比如存储一些emoji表情啥的，那请使用utf8mb4 。</p>
<blockquote>
<p>  <strong>字符集的查看</strong></p>
<p>  MySQL 支持多种字符集，查看当前MySQL 中支持的字符集可以用下边这个语句：</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show charset;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="Mysql数据库与数据表操作"><a href="#Mysql数据库与数据表操作" class="headerlink" title="Mysql数据库与数据表操作"></a>Mysql数据库与数据表操作</h2><blockquote>
<p>  <strong>库和表的概念与关系</strong></p>
<p>  库就像是文件夹，库中可以有很多个表，表就像是我们的excel表格文件一样，每一个表中都可以存储很多数据。</p>
<p>  mysql中可以有很多不同的库，库中可以有很多不同的表，表中可以定义不同的列（字段），表中可以根据结构去存储很多的数据。</p>
</blockquote>
<h3 id="数据库的操作"><a href="#数据库的操作" class="headerlink" title="数据库的操作"></a>数据库的操作</h3><h4 id="数据库创建"><a href="#数据库创建" class="headerlink" title="数据库创建"></a>数据库创建</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 链接mysql数据库后，进入mysql后可以操作数据</span><br><span class="line"># 创建库</span><br><span class="line">create database if not exists test default charset&#x3D;utf8mb4;</span><br><span class="line">-- 1. 数据库 test 如果不存在则创建数据库，存在则不创建</span><br><span class="line">-- 2. 创建 test 数据库，并设置字符集为utf8</span><br><span class="line">-- 3. 无特殊情况都要求字符集为utf8或者utf8mb4的字符编码</span><br></pre></td></tr></table></figure>

<h4 id="查看所有库"><a href="#查看所有库" class="headerlink" title="查看所有库"></a>查看所有库</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 查看所有库</span><br><span class="line">show databases;</span><br></pre></td></tr></table></figure>

<h4 id="打开库-进入库-选择库"><a href="#打开库-进入库-选择库" class="headerlink" title="打开库/进入库/选择库"></a>打开库/进入库/选择库</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># use 库名</span><br><span class="line">use test;</span><br></pre></td></tr></table></figure>

<h4 id="删除库"><a href="#删除库" class="headerlink" title="删除库"></a>删除库</h4><blockquote>
<p>  <font color=red>删库有风险，动手需谨慎！！！</font></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 删除库，库中的所有数据都将在磁盘中删除。</span><br><span class="line">drop database 库名</span><br></pre></td></tr></table></figure>

<h3 id="数据表的操作"><a href="#数据表的操作" class="headerlink" title="数据表的操作"></a>数据表的操作</h3><h4 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h4><p>语法格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create table 表名(字段名，类型，[字段约束]，…)；</span><br></pre></td></tr></table></figure>

<p>实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 以下创建一个 users 的表</span><br><span class="line">create table if not exists users(</span><br><span class="line">	-- 创建ID字段，为正整数，不允许为空 主键，自动递增</span><br><span class="line">	id int unsigned not null primary key auto_increment,</span><br><span class="line">	-- 创建存储 名字 的字段，为字符串类型，最大长度5个字符，不允许为空</span><br><span class="line">	username varchar(5) not null,</span><br><span class="line">	-- 创建存储 密码 的字段，固定长度 32位字符， 不允许为空</span><br><span class="line">	password char(32) not null,</span><br><span class="line">	-- 创建存储 年龄 的字段，不允许为空，默认值为 20</span><br><span class="line">	age tinyint not null default 20</span><br><span class="line">)engine&#x3D;innodb default charset&#x3D;utf8mb4;</span><br><span class="line">-- 表引擎innodb 字符集utf8mb4</span><br><span class="line"></span><br><span class="line"># 查看表结构</span><br><span class="line">desc users;</span><br><span class="line"></span><br><span class="line">#查看建表语句</span><br><span class="line">show create table users;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2020/11/07/ERAg51wJ43vdKNF.png" alt=""></p>
<p><strong>创建表的基本原则：</strong></p>
<ul>
<li>表明和字段名 尽可能的符合命名规范，并且最好能够‘见名之意’</li>
<li>表中数据必须有唯一标识，即主键定义。无特殊情况，主键都为数字并自增即可</li>
<li>表中字段所对应的类型设置合理，并限制合理长度</li>
<li>表引擎推荐使用innodb，并无特殊情况都要求为utf8或者utf8mb4的字符编码</li>
</ul>
<h4 id="修改表结构"><a href="#修改表结构" class="headerlink" title="修改表结构"></a>修改表结构</h4><p>语法格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table 表名 action (更改的选项)</span><br></pre></td></tr></table></figure>

<h5 id="添加字段"><a href="#添加字段" class="headerlink" title="添加字段"></a>添加字段</h5><p>语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table 表名 add 添加的字段信息</span><br></pre></td></tr></table></figure>

<p>实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- 在 users 表中 追加 一个 num 字段 int类型 不为空 默认加在最后面</span><br><span class="line">alter table users add num int not null;</span><br><span class="line">-- 在指定字段后面追加字段 在 users 表中 age字段后面 添加一个 email 字段</span><br><span class="line">alter table users add email varchar(50) after age;</span><br><span class="line">-- 在指定字段后面追加字段，在 users 表中 age字段后面 添加一个 phone</span><br><span class="line">alter table users add phone char(11) not null after age;</span><br><span class="line">-- 在表的最前面添加一个字段</span><br><span class="line">alter table users add aa int first;</span><br></pre></td></tr></table></figure>

<h5 id="删除字段"><a href="#删除字段" class="headerlink" title="删除字段"></a>删除字段</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 删除字段 alter table 表名 drop 被删除的字段名</span><br><span class="line">alter table users drop aa;</span><br></pre></td></tr></table></figure>

<h5 id="修改字段"><a href="#修改字段" class="headerlink" title="修改字段"></a>修改字段</h5><p>语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alter table 表名 change|modify 被修改的字段信息</span><br><span class="line"># change: 可以修改字段名，</span><br><span class="line"># modify: 不能修改字段名。</span><br></pre></td></tr></table></figure>

<p>实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 修改表中的 num 字段 类型,使用 modify 不修改字段名</span><br><span class="line">alter table users modify num tinyint not null default 12;</span><br><span class="line"># 修改表中的 num 字段 为 int 并且 字段名改为 mm</span><br><span class="line">alter table users change num mm int;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  <strong>注意：一般情况下，无特殊要求，不要轻易修改表结构</strong></p>
</blockquote>
<h4 id="修改表名"><a href="#修改表名" class="headerlink" title="修改表名"></a>修改表名</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table 原表名 rename as 新表名;</span><br></pre></td></tr></table></figure>

<h4 id="更改表中自增的值"><a href="#更改表中自增的值" class="headerlink" title="更改表中自增的值"></a>更改表中自增的值</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 在常规情况下，auto_increment 默认从1开始继续递增</span><br><span class="line"># 更改自增值让其从1000开始</span><br><span class="line">alter table users auto_increment &#x3D; 1000;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  <font color = red> 注意：</font></p>
<p>  更改之后，只对后面再增加的数据有影响，对已存在的数据没有影响。</p>
</blockquote>
<h4 id="修改表引擎"><a href="#修改表引擎" class="headerlink" title="修改表引擎"></a>修改表引擎</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># 推荐在定义表时，表引擎定义为 innodb。</span><br><span class="line"># 通过查看建表语句获取当前的表引擎</span><br><span class="line">mysql&gt; show create table users\G;</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">		Table: users</span><br><span class="line">Create Table: CREATE TABLE &#96;users&#96; (</span><br><span class="line">	PRIMARY KEY (&#96;id&#96;)</span><br><span class="line">    ....</span><br><span class="line">) ENGINE&#x3D;InnoDB AUTO_INCREMENT&#x3D;1001 DEFAULT CHARSET&#x3D;utf8</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"># 直接查看当前表状态信息</span><br><span class="line">mysql&gt; show table status from test where name &#x3D; &#39;users&#39;\G;</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">			Name: users</span><br><span class="line">		   Engine: InnoDB</span><br><span class="line">		   ....</span><br><span class="line"></span><br><span class="line"># 修改表引擎语句</span><br><span class="line">alter table users engine &#x3D; &#39;myisam&#39;;</span><br></pre></td></tr></table></figure>

<h4 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop table 表名</span><br></pre></td></tr></table></figure>

<h2 id="MySQL-数据操作——DML"><a href="#MySQL-数据操作——DML" class="headerlink" title="MySQL 数据操作——DML"></a>MySQL 数据操作——DML</h2><blockquote>
<p>  <strong>数据的DML操作：添加数据，修改数据，删除数据</strong></p>
</blockquote>
<h3 id="添加数据"><a href="#添加数据" class="headerlink" title="添加数据"></a>添加数据</h3><p>格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into 表名[(字段列表)] values(值列表...);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">-- 标准添加（指定所有字段，给定所有的值）</span><br><span class="line">insert into stu(id,name,age,sex,classid) values(1,&#39;zhangsan&#39;,20,&#39;m&#39;,&#39;lamp138&#39;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 指定部分字段添加值</span><br><span class="line">insert into stu(name,classid) value(&#39;lisi&#39;,&#39;lamp138&#39;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 不指定字段添加值</span><br><span class="line">insert into stu value(null,&#39;wangwu&#39;,21,&#39;w&#39;,&#39;lamp138&#39;);</span><br><span class="line"></span><br><span class="line">-- 批量添加值</span><br><span class="line">insert into stu values</span><br><span class="line">(null,&#39;zhaoliu&#39;,25,&#39;w&#39;,&#39;lamp94&#39;),</span><br><span class="line">(null,&#39;uu01&#39;,26,&#39;m&#39;,&#39;lamp94&#39;),</span><br><span class="line">(null,&#39;uu02&#39;,28,&#39;w&#39;,&#39;lamp92&#39;),</span><br><span class="line">(null,&#39;qq02&#39;,24,&#39;m&#39;,&#39;lamp92&#39;),</span><br><span class="line">(null,&#39;uu03&#39;,32,&#39;m&#39;,&#39;lamp138&#39;),</span><br><span class="line">(null,&#39;qq03&#39;,23,&#39;w&#39;,&#39;lamp94&#39;),</span><br><span class="line">(null,&#39;aa&#39;,19,&#39;m&#39;,&#39;lamp138&#39;);</span><br></pre></td></tr></table></figure>

<h3 id="修改数据"><a href="#修改数据" class="headerlink" title="修改数据"></a>修改数据</h3><p>格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update 表名 set 字段1&#x3D;值1,字段2&#x3D;值2,字段n&#x3D;值n... where 条件;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-- 将id为11的age改为35，sex改为m值</span><br><span class="line">update stu set age&#x3D;35,sex&#x3D;&#39;m&#39; where id&#x3D;11;</span><br><span class="line"></span><br><span class="line">-- 将id值为12和14的数据值sex改为m，classid改为lamp92</span><br><span class="line">update stu set sex&#x3D;&#39;m&#39;,classid&#x3D;&#39;lamp92&#39; where id&#x3D;12 or id&#x3D;14 </span><br><span class="line">update stu set sex&#x3D;&#39;m&#39;,classid&#x3D;&#39;lamp92&#39; where id in(12,14);  -- 等价于上面</span><br></pre></td></tr></table></figure>

<h3 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h3><p>格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete from 表名 [where 条件];</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- 删除stu表中id值为100的数据</span><br><span class="line">delete from stu where id&#x3D;100;</span><br><span class="line"></span><br><span class="line">-- 删除stu表中id值为20到30的数据</span><br><span class="line">delete from stu where id&gt;&#x3D;20 and id&lt;&#x3D;30;</span><br><span class="line">delete from stu where id between 20 and 30;	-- 等价于上面</span><br><span class="line"></span><br><span class="line">-- 删除stu表中id值大于200的数据</span><br><span class="line">delete from stu where id&gt;200;</span><br></pre></td></tr></table></figure>

<h2 id="MySQL数据查询——DQL基本语法"><a href="#MySQL数据查询——DQL基本语法" class="headerlink" title="MySQL数据查询——DQL基本语法"></a>MySQL数据查询——DQL基本语法</h2><p>语法格式：<font color = red> sql查询语句 一定要严格按照这样的顺序，否则会产生错误</font></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">select 字段列表|* from 表名</span><br><span class="line">[where 搜索条件]</span><br><span class="line">[group by 分组字段 [having 分组条件]]</span><br><span class="line">[order by 排序字段 排序规则]</span><br><span class="line">[limit 分页参数]</span><br></pre></td></tr></table></figure>

<p>下面以一个数据表stu为例进行讲解</p>
<p>SQL示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">-- 创建表</span><br><span class="line">CREATE TABLE &#96;stu&#96;(</span><br><span class="line">	&#96;id&#96;  int unsigned NOT NULL AUTO_INCREMENT,</span><br><span class="line">	&#96;name&#96; varchar(10) NOT NULL,</span><br><span class="line">	&#96;email&#96; char(50) NOT NULL,</span><br><span class="line">	&#96;phone&#96; char(11) NOT NULL,</span><br><span class="line">	&#96;age&#96; tinyint(4)NOT NULL,</span><br><span class="line">	&#96;sex&#96; char(1) DEFAULT NULL,</span><br><span class="line">	&#96;class_id&#96; int DEFAULT NULL, </span><br><span class="line">    PRIMARY KEY(id)</span><br><span class="line">)ENGINE&#x3D;MyISAM AUTO_INCREMENT&#x3D;1 DEFAULT CHARSET&#x3D;utf8mb4;</span><br><span class="line"></span><br><span class="line">-- 添加数据</span><br><span class="line">insert into stu values</span><br><span class="line">(null,&#39;张三&#39;,&#39;zhangsane@qq.com&#39;,&#39;13701184321&#39;,21,&#39;男&#39;,1),</span><br><span class="line">(null,&#39;李四&#39;,&#39;lisi@qq.com&#39;,&#39;13701104322&#39;,22,&#39;男&#39;,1),</span><br><span class="line">(null,&#39;王五&#39;,&#39;wangwu@qq.com&#39;,&#39;13701104323&#39;,20,&#39;女&#39;,1),</span><br><span class="line">(null,&#39;赵六&#39;,&#39;zhaoliu@qq.com&#39;,&#39;13701104324&#39;,19,&#39;男&#39;,1),</span><br><span class="line">(null,&#39;田七&#39;,&#39;tianqi@qq.com&#39;,&#39;13701104325&#39;,23,&#39;女&#39;,1),</span><br><span class="line">(null,&#39;王五六&#39;,&#39;wangwuliu@qq.com&#39;,&#39;13701104326&#39;,23,&#39;女&#39;,1),</span><br><span class="line">(null,&#39;熊大&#39;,&#39;xiongda@qq.com&#39;,&#39;13701184327&#39;,25,&#39;男&#39;,2),</span><br><span class="line">(null,&#39;熊二&#39;,&#39;xionger@qq.com&#39;,&#39;13701104328&#39;,22,&#39;男&#39;,2),</span><br><span class="line">(null,&#39;一一&#39;,&#39;yiyi@qq.com&#39;,&#39;13701184329&#39;,19,&#39;女&#39;,2),</span><br><span class="line">(null,&#39;呀呀&#39;,&#39;yaya@qq.com&#39;,&#39;13701104320&#39;,22,&#39;男&#39;,2);</span><br><span class="line"> </span><br><span class="line"> -- 查看表数据</span><br><span class="line">select * from stu;</span><br></pre></td></tr></table></figure>

<h3 id="检索数据SELECT"><a href="#检索数据SELECT" class="headerlink" title="检索数据SELECT"></a>检索数据<code>SELECT</code></h3><p><strong>检索列</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 检索单个列</span><br><span class="line">select name from stu; -- 查询 stu 表中 name （字段）列的所有数据</span><br><span class="line"></span><br><span class="line"># 检索多个列</span><br><span class="line">select id, name, age, sex from stu; </span><br><span class="line"></span><br><span class="line"># 检索所有列</span><br><span class="line">select * from stu;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2020/11/08/C1EtjLHgFfQ76SX.png" alt=""></p>
<blockquote>
<p>  如果没有明确排序查询结果，则返回的数据的顺序没有特殊意义。</p>
<p>  返回数据的顺序可能是数据被添加到表中的顺序，也可能不是。只要返回相同数目的行，就是正常的</p>
<p>  <strong>使用通配符 <code>*</code> 的说明：</strong></p>
<p>  一般除非你确实需要表中的每个列，否则最好别使用 <code>*</code> 通配符。</p>
<p>  虽然使用通配符，不用明确列出所需列，会使你自己省事，但检索不需要的列通常会降低检索和应用程序的性能。使用通配符有一个优点： 由于不明确指定列名（因为 <code>*</code> 检索每个列），所以能检索出名字未知的列。</p>
</blockquote>
<p><strong>检索不同的行（去重） DISTNCT</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 检索不同的行（去重） DISTNCT</span><br><span class="line">select distinct class_id from stu;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2020/11/08/No9qvOmStG1z6be.png" alt=""></p>
<blockquote>
<p>  DISTINCT关键字指示MySQL只返回不同的值。</p>
<p>  DISTINCT关键字应用于所有列，而不仅是前置它的列。</p>
<p>  如果给出<code>SELECT DISTINCT 字段1,字段2,.... FROM xxx;</code>除非指定的列都不同，否则所有行都将被检索出来</p>
</blockquote>
<p><strong>使用完全限定的表名</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select name from stu; -- 无限制</span><br><span class="line">select stu.name from stu; -- 限制字段名 stu.name stu表的name字段</span><br><span class="line">select stu.name from test.stu;  -- 限制表名 test.stu test库的stu表</span><br></pre></td></tr></table></figure>

<h3 id="WHERE-数据检索条件过滤"><a href="#WHERE-数据检索条件过滤" class="headerlink" title="WHERE 数据检索条件过滤"></a>WHERE 数据检索条件过滤</h3><blockquote>
<p>  数据库表一般包含大量的数据，很少需要检索表中所有行。</p>
<p>  通常只会根据特定操作或报告的需要提取表数据的子集。</p>
<p>  只检索所需数据需要指定搜索条件（search criteria)，搜索条件也称为过滤条件（filtercondition)。</p>
<p>  在SELECT语句中，数据根据WHERE子句中指定的搜索条件进行过滤。</p>
</blockquote>
<ul>
<li>可以在where子句中指定任何条件</li>
<li>可以使用 and 或者 or 指定一个或多个条件</li>
<li>where条件也可以运用在update和delete语句的后面</li>
</ul>
<p><strong>WHERE 子句操作符</strong></p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>=</code></td>
<td>等于</td>
</tr>
<tr>
<td><code>&lt;&gt;</code>   <code>!=</code></td>
<td>不等于</td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td>小于</td>
</tr>
<tr>
<td><code>&lt;=</code></td>
<td>小于等于</td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>大于</td>
</tr>
<tr>
<td><code>&gt;=</code></td>
<td>大于等于</td>
</tr>
<tr>
<td><code>BETWEEN…AND…</code></td>
<td>指定两值之间</td>
</tr>
<tr>
<td><code>IS NULL</code></td>
<td>空值</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- 查询 stu 表中 age &gt; 22的数据</span><br><span class="line">select * from stu where age &gt; 22;</span><br><span class="line"></span><br><span class="line">-- 查询 stu 表中 name&#x3D;某个条件值 的数据</span><br><span class="line">select * from stu where name &#x3D; &#39;王五&#39;;</span><br><span class="line"></span><br><span class="line">-- 查询 stu 表中 sex 为 null 的数据</span><br><span class="line">select * from stu where sex is null;</span><br></pre></td></tr></table></figure>

<p><strong>组合WHERE子句</strong></p>
<blockquote>
<p>   MySQL允许给出多个WHERE子句。</p>
<p>   这些子句可以两种方式使用：以<code>AND</code>子句的方式或<code>OR</code>子句的方式使用。也称为逻辑操作符</p>
<ul>
<li><code>AND</code> 检索满足<strong>所有</strong>给定条件的行</li>
<li><code>OR</code>   检索满足<strong>任一</strong>给定条件的行</li>
</ul>
</blockquote>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-- 查询 stu 表中 年龄在22到25之间的数据</span><br><span class="line">select * from stu where age &gt;&#x3D; 22 and age &lt;&#x3D; 25;</span><br><span class="line">select * from stu where age between 22 and 25;</span><br><span class="line"></span><br><span class="line">-- 查询 stu 表中 年龄不在22到25之间的数据</span><br><span class="line">select * from stu where age &lt; 22 or age &gt; 25;</span><br><span class="line">select * from stu where age not between 22 and 25;</span><br><span class="line"></span><br><span class="line">-- 查询 stu 表中 年龄在22到25之间的女生信息</span><br><span class="line">select * from stu where age &gt;&#x3D; 22 and age &lt;&#x3D; 25 and sex &#x3D; &#39;女&#39;;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  <strong><font color=red>注意</font></strong></p>
<p>  <code>and</code> 和 <code>or</code> 在使用时要注意 sql语句优先级的问题，sql会优先处理<code>and</code>条件</p>
<p>  比如下面语句：</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from stu where age&#x3D;22 or age &#x3D; 25 and sex &#x3D; &#39;女&#39;;</span><br></pre></td></tr></table></figure>

<p>  假如要求查询 users 表中 年龄为22或者25 的女生信息，上面语句查询的结果就不能符合我们的要求。</p>
<p>  上面语句查询的是 （年龄为22的所有人） 或者 （年龄为25的女生）信息：</p>
<p>  要达到我们要求的查询，可以用小括号来提升优先级</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from stu where (age&#x3D;22 or age &#x3D; 25) and sex &#x3D; &#39;女&#39;;</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong><code>IN</code>与<code>NOT</code></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-- 查询 stu 表中 id 是1或2或3的数据</span><br><span class="line">select * from stu where id in (1,2,3);</span><br><span class="line">-- 查询 stu 表中 id 不是1 也不是2 也不是3的数据</span><br><span class="line">select * from stu where id not in (1,2,3);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  <code>IN</code> 操作符用来指定条件范围，范围中的每个条件都可以进行匹配。功能与<code>OR</code>相当</p>
<p>  <code>NOT</code> 用于否定后跟进的条件</p>
<p>  与<code>OR</code>，相比，使用<code>IN</code>的优点</p>
<ul>
<li>在使用长的合法选项清单时，IN操作符的语法更清楚且更直观。</li>
<li>在使用IN时，计算的次序更容易管理（因为使用的操作符更少）。</li>
<li>IN操作符一般比OR操作符清单执行更快。</li>
<li>IN的最大优点是可以包含其他SELECT语句，使得能够更动态地建立WHERE子句。</li>
</ul>
</blockquote>
<p><strong>通配符的使用 <code>LIKE</code></strong></p>
<p>我们可以在where条件中使用 <code>=</code>，<code>&lt;</code>，<code>&gt;</code> 等符号进行条件的过滤，但是当想查询某个字段是否包含某个字符时如何过滤呢？例如： 查询 name字段中包含五的数据</p>
<p>可以使用<code>LIKE</code>语句进行某个字段的模糊搜索。</p>
<p><strong>常用通配符：</strong></p>
<ul>
<li>百分号(<code>%</code>) ：表示任意字符出现任意次数</li>
<li>下划线(<code>_</code>)：用途与<code>%</code>类似，但下划线只匹配单个字符</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">-- like 语句 like某个确定的值 和。where name &#x3D; &#39;王五&#39; 是一样</span><br><span class="line">select * from stu where name like &#39;王五&#39;;</span><br><span class="line"></span><br><span class="line">-- 使用 % 模糊搜索。%代表任意个任意字符</span><br><span class="line">	-- 查询name字段中包含五的</span><br><span class="line">	select * from stu where name like &#39;%五%&#39;;</span><br><span class="line">	</span><br><span class="line">	-- 查询name字段中最后一个字符 为 五的</span><br><span class="line">	select * from stu where name like &#39;%五&#39;;</span><br><span class="line">   </span><br><span class="line">    -- 查询name字段中第一个字符 为 王 的</span><br><span class="line">	select * from stu where name like &#39;王%&#39;;</span><br><span class="line">	</span><br><span class="line">-- 使用 _ 单个的下划线。表示一个任意字符，使用和%类似</span><br><span class="line">	-- 查询表中 name 字段为两个字符的数据</span><br><span class="line">	select * from stu where name like &#39;__&#39;;</span><br><span class="line">	</span><br><span class="line">	-- 查询 name 字段最后为 五 的两个字符的数据</span><br><span class="line">	select * from stu where name like &#39;_五&#39;;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  <strong>where子句中的like在使用<code>%</code>或者<code>_</code>进行模糊搜索时，所花时间更长，效率不高，使用时注意：</strong></p>
<ul>
<li>不要过度使用通配符。如果其他操作符能达到相同的目的，尽量使用其他操作符。</li>
<li>在确实需要使用通配符时，除非绝对有必要，否则不要把它们用在搜索模式的开始处。把通配符置于搜索模式的开始处，搜索起来是最慢的。</li>
<li>仔细注意通配符的位置。如果放错地方，可能不会返回想要的数据</li>
</ul>
</blockquote>
<blockquote>
<p>  MySql中也支持正则表达式，使用 <code>REGEXP</code> 关键字来匹配。</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 查询 id 为 3到8 的所有数据</span><br><span class="line">select * from stu where id regexp &#39;[3-8]&#39;;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="字段的计算"><a href="#字段的计算" class="headerlink" title="字段的计算"></a>字段的计算</h3><p>存储在数据库表中的数据一般不是应用程序所需要的格式。下面举几个例子:</p>
<ul>
<li>如果想在一个字段中既显示用户名，又显示班级号，但这两个信息一般包含在不同的表列中。</li>
<li>同时姓名、手机号和地址存储在不同的列中（应该这样）,但快递单打印程序却需要把它们作为一个恰当格式的字段检索出来。</li>
<li>列数据是大小写混合的，但报表程序需要把所有数据按大写表示出来。</li>
<li>物品订单表存储物品的价格和数量，但不需要存储每个物品的总价格（用价格乘以数量即可）。为打印发票需要物品的总价格。</li>
<li>需要根据表数据进行总数、平均数计算或其他计算</li>
</ul>
<p><strong>计算字段并不实际存在于数据库表中。计算字段是运行时在SELECT语句内创建的</strong></p>
<p><strong>拼接Concat</strong></p>
<p>stu表包含用户名和手机号码信息。假如要生成一个学生报表，需要在学生的名字中按照name(phone)这样的<br>格式列出</p>
<p>解决办法是把两个列拼接起来。在MySQL的SELECT语句中，可使用<code>concat()</code>函数来拼接两个列</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select concat(name ,&#39;(&#39;, phone,&#39;)&#39;) from stu;</span><br></pre></td></tr></table></figure>

<p><strong>使用别名AS</strong></p>
<p>SELECT语句拼接字段可以完成。但此新计算列的名字是什么呢？实际上它没有名字，它只是一个值。<br>如果仅在SQL查询工具中查看一下结果，这样没有什么不好。</p>
<p>但是，一个未命名的列不能用于客户机应用中，因为客户机没有办法引用它。</p>
<p>为了解决这个问题，SQL支持列别名。别名（alias)是一个字段或值的替换名。别名用<code>AS</code>关键字赋予</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select concat(name ,&#39;(&#39;,phone,&#39;)&#39;) as name_phone from stu;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2020/11/08/i8v9tsl1JkrISmE.png" alt=""></p>
<h3 id="MySql查询常用函数"><a href="#MySql查询常用函数" class="headerlink" title="MySql查询常用函数"></a>MySql查询常用函数</h3><blockquote>
<p>  与其他大多数计算机语言一样，SQL支持利用函数来处理数据。</p>
<p>  函数一般是在数据上执行的，它给数据的转换和处理提供了方便。</p>
</blockquote>
<p><strong>文本处理函数</strong></p>
<p><a href="https://dev.mysql.com/doc/refman/5.7/en/string-functions.html" target="_blank" rel="noopener">https://dev.mysql.com/doc/refman/5.7/en/string-functions.html</a></p>
<p><img src="https://i.loli.net/2020/11/08/kfDA5FUwxgGN6jz.png" alt="image-20201108204526003"></p>
<p><strong>日期和时间处理函数</strong></p>
<p><a href="https://dev.mysql.com/doc/refman/5.7/en/date-and-time-functions.html" target="_blank" rel="noopener">https://dev.mysql.com/doc/refman/5.7/en/date-and-time-functions.html</a></p>
<p><img src="https://i.loli.net/2020/11/08/a8mH6gLkY5zOpbS.png" alt=""></p>
<blockquote>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 根据出生日期计算年龄</span></span><br><span class="line">TIMESTAMPDIFF(YEAR, @birthday, CURDATE()) </span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>数值处理函数</strong></p>
<p><a href="https://dev.mysql.com/doc/refman/5.7/en/numeric-functions.html" target="_blank" rel="noopener">https://dev.mysql.com/doc/refman/5.7/en/numeric-functions.html</a></p>
<p><img src="https://i.loli.net/2020/11/08/fkPm93ciztJb7uA.png" alt=""></p>
<h3 id="Mysql中的统计函数（聚合函数）"><a href="#Mysql中的统计函数（聚合函数）" class="headerlink" title="Mysql中的统计函数（聚合函数）"></a>Mysql中的统计函数（聚合函数）</h3><blockquote>
<p>  我们经常需要汇总数据而不用把它们实际检索出来，为此MySQL提供了专门的函数。</p>
<p>  使用这些函数，MySQL查询可用于检索数据，以便分析和报表生成</p>
</blockquote>
<ul>
<li><code>max()</code>  返回某列最大值</li>
<li><code>min()</code> 返回某列最小值</li>
<li><code>count()</code> 返回某列的行数</li>
<li><code>sum()</code>  返回某列值和</li>
<li><code>avg()</code>    返回某列的平均值</li>
</ul>
<blockquote>
<p>  在使用count时，如果指定列名，则指定列的值为空的行被忽略，但如果COUNT函数中用的是星号（*）,则不忽略。</p>
</blockquote>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"># 计算 users 表中 最大年龄，最小年龄，年龄和及平均年龄</span><br><span class="line">select max(age),min(age),sum(age),avg(age) from stu;</span><br><span class="line">+----------+----------+----------+----------+</span><br><span class="line">| max(age) | min(age) | sum(age) | avg(age) |</span><br><span class="line">+----------+----------+----------+----------+</span><br><span class="line">|       25 |       19 |      216 |  21.6000 |</span><br><span class="line">+----------+----------+----------+----------+</span><br><span class="line">-- 上面数据中的列都是在查询时使用的函数名，不方便阅读和后期的调用，可以通过别名方式 美化</span><br><span class="line">select max(age) as max_age,</span><br><span class="line">min(age) as min_age,</span><br><span class="line">sum(age) as sum_age,</span><br><span class="line">avg(age) as avg_age from stu;</span><br><span class="line">+---------+---------+---------+---------+</span><br><span class="line">| max_age | min_age | sum_age | avg_age |</span><br><span class="line">+---------+---------+---------+---------+</span><br><span class="line">|      25 |      19 |     216 | 21.6000 |</span><br><span class="line">+---------+---------+---------+---------+</span><br><span class="line">-- 统计 users 表中的数据量</span><br><span class="line">select count(*) from stu;</span><br><span class="line">+----------+</span><br><span class="line">| count(*) |</span><br><span class="line">+----------+</span><br><span class="line">|       10 |</span><br><span class="line">+----------+</span><br><span class="line">select count(id) from stu;</span><br><span class="line">+----------+</span><br><span class="line">| count(id)|</span><br><span class="line">+----------+</span><br><span class="line">|       10 |</span><br><span class="line">+----------+</span><br><span class="line"></span><br><span class="line">-- 上面的两个统计，分别使用了 count(*) 和 count(id),结果目前都一样，有什么区别？</span><br><span class="line">-- count(*) 是按照 users表中所有的列进行数据的统计，只要其中一列上有数据，就可以计算</span><br><span class="line">-- count(id) 是按照指定的 id 字段进行统计，也可以使用别的字段进行统计，</span><br><span class="line">-- 但是注意，如果指定的列上出现了NULL值，那么为NULL的这个数据不会被统计</span><br><span class="line">-- 假设有下面这样的一张表需要统计</span><br><span class="line">+------+-----------+------+--------+-----------+------+------+</span><br><span class="line">| id   | name      |  age |  phone |     email |  sex | mm   |</span><br><span class="line">+------+-----------+------+--------+-----------+------+------+</span><br><span class="line">| 1000 | aa        | 20   | 123    | NULL      | 男   | NULL |</span><br><span class="line">| 1001 | bb        | 20   | 123456 | NULL      | 男   | NULL |</span><br><span class="line">| 1002 | cc        | 25   | 123    | NULL      | 女   | NULL |</span><br><span class="line">| 1003 | dd        | 20   | 456    | NULL      | 女   | NULL |</span><br><span class="line">| 1004 | ff        | 28   | 789    | NULL      | NULL | NULL |</span><br><span class="line">+------+-----------+------+--------+-----------+------+------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br><span class="line">-- 如果按照sex这一列进行统计，结果就是4个而不是5个，因为sex这一列中有NULL值存在</span><br><span class="line">mysql&gt; select count(sex) from stu;</span><br><span class="line">+------------+</span><br><span class="line">| count(sex) |</span><br><span class="line">+------------+</span><br><span class="line">| 4          |</span><br><span class="line">+------------+</span><br></pre></td></tr></table></figure>

<p>聚合函数除了以上简单的使用以外，通常情况下都是配合着分组进行数据的统计和计算</p>
<h3 id="GROUP-BY-分组"><a href="#GROUP-BY-分组" class="headerlink" title="GROUP BY 分组"></a>GROUP BY 分组</h3><p><code>group by</code> 语句根据一个或多个列对结果集进行分组</p>
<p>一般情况下，是用于数据的统计或计算，配合聚合函数使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-- 统计 users 表中 男女生人数,</span><br><span class="line">-- 很明显按照上面的需要，可以写出两个语句进行分别统计</span><br><span class="line">select count(*) from stu where sex &#x3D; &#39;女&#39;;</span><br><span class="line">select count(*) from stu where sex &#x3D; &#39;男&#39;;</span><br><span class="line">-- 可以使用分组进行统计，更方便</span><br><span class="line">select sex,count(*) from stu group by sex;</span><br><span class="line"></span><br><span class="line">-- 统计1班和2班的人数</span><br><span class="line">select class_id,count(*) from stu group by class_id;</span><br><span class="line"></span><br><span class="line">-- 分别统计每个班级的男女生人数</span><br><span class="line">select class_id,sex,count(*) as num from stu group by class_id,sex;</span><br></pre></td></tr></table></figure>

<p>注意：在使用<code>group by</code>分组时，一般除了聚合函数，其它在<code>select</code>后面出现的字段列都需要出现在<code>grouop by</code> 后面。</p>
<p><strong><code>HAVING</code>子句</strong></p>
<p><code>having</code> 在分组聚合计算后，对结果再一次进行过滤，类似于where，where过滤的是行数据，having过滤的是分组数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-- 要统计班级人数</span><br><span class="line">select class_id,count(*) from stu group by classid;</span><br><span class="line">-- 统计班级人数，并且要人数达到5人及以上</span><br><span class="line">select class_id,count(*) as num from stu group by class_id having num &gt;&#x3D;5;</span><br></pre></td></tr></table></figure>

<h3 id="ORDER-BY-对检索数据进行排序"><a href="#ORDER-BY-对检索数据进行排序" class="headerlink" title="ORDER BY 对检索数据进行排序"></a>ORDER BY 对检索数据进行排序</h3><blockquote>
<p>  默认查询出的数据，并不是随机排序的，如果没有指定排序，数据一般将以它在底层表中出现的顺序显示，关系数据库设计理论认为，如果不明确规定排序顺序，则不应该假定检索出的数据的顺序有意义。</p>
</blockquote>
<p>我们在mysql中使用<code>select</code>的语句查询的数据结果是根据数据在底层文件的结构来排序的，在需要排序时可以使用<code>order by</code>对返回的结果进行排序</p>
<p><code>order by</code>asc 升序，默认</p>
<ul>
<li>desc 降序</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- 按照年龄对结果进行排序，</span><br><span class="line">	-- 从大到小</span><br><span class="line">	select * from users order by age desc;</span><br><span class="line">	-- 从小到大排序 asc 默认可以不写</span><br><span class="line">	select * from users order by age;</span><br><span class="line">-- 也可以按照多个字段进行排序</span><br><span class="line">select * from users order by age,id; # 先按照age进行排序，age相同情况下，按照id进行排序 升序</span><br><span class="line">select * from users order by age,id desc; -- 降序</span><br></pre></td></tr></table></figure>

<h3 id="限制结果-LIMIT"><a href="#限制结果-LIMIT" class="headerlink" title="限制结果 LIMIT"></a>限制结果 LIMIT</h3><ul>
<li><code>limit n</code> 提取n条数据，</li>
<li><code>limit m,n</code> 跳过m条数据，提取后面的n条数据</li>
<li><code>limit n offset m</code>  跳过m条数据，提取后面的n条数据 ，等同于<code>limit m,n</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-- 查询stu 表中的数据，只要3条</span><br><span class="line">select * from stu limit 3;</span><br><span class="line"></span><br><span class="line">-- 跳过前3条数据，再取4条数据</span><br><span class="line">select * from stu limit 3,4;</span><br><span class="line">select * from stu limit 4 offset 3;</span><br><span class="line">-- limit一般应用在数据分页上面</span><br><span class="line">-- 例如每页显示10条数据</span><br><span class="line">第一页 limit 0,10</span><br><span class="line">第二页 limit 10,10</span><br><span class="line">第三页 limit 20,10</span><br><span class="line">第四页 limit 30,10</span><br><span class="line">...</span><br><span class="line">-- 查询stu 表中年龄最大的两个人的信息</span><br><span class="line">select * from stu order by age desc limit 2;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2020/11/08/WmOsZi8a5KjRMSN.png" alt="image-20201108191010335"></p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>mysql中的查询语句比较灵活多样，并且在使用查询语句时，一定要注意sql的正确性和顺序。</p>
<p><img src="https://i.loli.net/2020/11/08/qoVjDgp12uvzaYw.png" alt="image-20201108162518097"></p>
<h2 id="Mysql数据库导入导出和授权"><a href="#Mysql数据库导入导出和授权" class="headerlink" title="Mysql数据库导入导出和授权"></a>Mysql数据库导入导出和授权</h2><h3 id="数据导出"><a href="#数据导出" class="headerlink" title="数据导出"></a>数据导出</h3><ul>
<li><strong>数据库数据导出</strong>：在命令行中然后输入以下命令 导出某个库中的数据</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -u root -p 库名 &gt; 要保存的文件路径/xxx.sql</span><br><span class="line"><span class="comment"># 比如：</span></span><br><span class="line">mysqldump -u root -p <span class="built_in">test</span> &gt; D://test.sql</span><br></pre></td></tr></table></figure>

<p>导出一个库中所有数据，会形成一个建表和添加语句组成的sql文件</p>
<p><img src="https://i.loli.net/2020/11/08/DY6nwXKyW9lefOI.png" alt=""></p>
<ul>
<li><strong>将数据库中的表导出</strong> :在命令行中然后输入以下命令 导出某个库中指定表的数据</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -u root -p 库名 表名 &gt; 要保存的文件路径/xxx.sql</span><br><span class="line"><span class="comment"># 比如：</span></span><br><span class="line">mysqldump -u root -p <span class="built_in">test</span> users &gt; D://<span class="built_in">test</span>-users.sql</span><br></pre></td></tr></table></figure>

<h3 id="数据导入"><a href="#数据导入" class="headerlink" title="数据导入"></a>数据导入</h3><p>把导出的sql文件数据导入到mysql数据库中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 在新的数据库中 导入备份的数据，导入导出的sql文件</span><br><span class="line">mysql -u root -p 新建的库名 &lt; 路径&#x2F;xxx.sql</span><br><span class="line"># 把导出的表sql 导入数据库</span><br><span class="line">mysql -u root -p 新建的库名 &lt; 路径&#x2F;xxx.sql</span><br></pre></td></tr></table></figure>

<h3 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h3><blockquote>
<p>  mysql中的root用户是数据库中权限最高的用户，千万不要用在项目中。</p>
<p>  可以给不同的用户，或者项目，创建不同的mysql用户，并适当的授权，完成数据库的相关操作，这样就在一定程度上保证了数据库的安全。</p>
</blockquote>
<p>创建用户的语法格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant 授权的操作 on 授权的库.授权的表 to 账户@登录地址 identified by &#39;密码&#39;;</span><br></pre></td></tr></table></figure>

<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 在mysql中 创建一个 zhangsan 用户，授权可以对test这个库中的所有表 进行 添加和查询 的权限</span><br><span class="line">grant select,insert on test.* to zhangsan@&#39;%&#39; identified by &#39;123456&#39;;</span><br><span class="line"></span><br><span class="line"># 用户 lisi，密码 123456 可以对test库中的所有表有所有操作权限</span><br><span class="line">grant all on test.* to lisi@&#39;%&#39; identified by &#39;123456&#39;;</span><br><span class="line"></span><br><span class="line"># 删除用户 lisi</span><br><span class="line">drop user &#39;lisi&#39;@&#39;%&#39;;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.pengspace.top/2020/11/16/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B8%83%E5%B1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/05/01/VMPAdgQKfpzoWtc.jpg">
      <meta itemprop="name" content="AnswerCoder">
      <meta itemprop="description" content="记录自己学习的历程">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="鹏空间">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/16/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B8%83%E5%B1%80/" class="post-title-link" itemprop="url">移动端布局</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-11-16 19:31:49 / 修改时间：19:38:17" itemprop="dateCreated datePublished" datetime="2020-11-16T19:31:49+08:00">2020-11-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">评论数：</span>
    
    <a title="valine" href="/2020/11/16/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B8%83%E5%B1%80/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/11/16/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B8%83%E5%B1%80/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>14k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>13 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="移动端现状"><a href="#移动端现状" class="headerlink" title="移动端现状"></a>移动端现状</h2><ul>
<li>内核<ul>
<li>当前国产主流手机浏览器，内核都是Webkit</li>
</ul>
</li>
<li>分辨率：手机分辨率，碎片化太多<ul>
<li>Android：480x800, 480x854, 540x960, 720x1280，1080x1920 等</li>
<li>iPhone：640x960, 640x1136, 750x1334, 1242x2208 等</li>
<li>2K、4K等高分辨率</li>
</ul>
</li>
</ul>
<p>在开发过程中，Google chrome是主要模拟手机的手段之一，步骤：</p>
<ol>
<li><p>鼠标右键 检查 或 F12 控制器界面方向；</p>
</li>
<li><p>选择 手机模式</p>
</li>
<li><p>选择 手机类型及尺寸；调节适当的显示比例；</p>
</li>
<li><p>点右键 查看 页面元素；</p>
</li>
</ol>
<p><img src="https://i.loli.net/2020/11/05/Gkg6KFxR7IHm3ZJ.png" alt=""></p>
<h2 id="viewport-视口"><a href="#viewport-视口" class="headerlink" title="viewport(视口)"></a>viewport(视口)</h2><p><strong>定义：</strong></p>
<p>视口：浏览器（PC、移动端）显示页面内容的屏幕区域；不同的屏幕的大小，我们看到的区域也是不同的；</p>
<p>PC端的页面直接放入手机屏显示，不友好，可以用viewport来解决</p>
<p><img src="https://i.loli.net/2020/11/05/s1gtWMJ95GX42j3.png" alt="image-20201105130620315"></p>
<p><img src="https://i.loli.net/2020/11/05/Y7wazID9g2hUQGO.png" alt=""></p>
<p>HTML宽度默认为980px，不是很合适；</p>
<blockquote>
<p>  各手机型号尺寸：</p>
<table>
<thead>
<tr>
<th>设备</th>
<th>尺寸（英寸）</th>
<th>开发尺寸（px）</th>
<th>物理像素比（dpr）</th>
</tr>
</thead>
<tbody><tr>
<td>iphone3G</td>
<td>3.5</td>
<td>320*480</td>
<td>1.0</td>
</tr>
<tr>
<td>iphone4/4s</td>
<td>3.5</td>
<td>320*480</td>
<td>2.0</td>
</tr>
<tr>
<td>iphone5/5s/5c</td>
<td>4.0</td>
<td>320*568</td>
<td>2.0</td>
</tr>
<tr>
<td>HTC One M8</td>
<td>4.5</td>
<td>360*640</td>
<td>3.0</td>
</tr>
<tr>
<td>iphone6</td>
<td>4.7</td>
<td>375*667</td>
<td>2.0</td>
</tr>
<tr>
<td>Nexus4</td>
<td>4.7</td>
<td>384*640</td>
<td>2.0</td>
</tr>
<tr>
<td>Nexus5x</td>
<td>5.2</td>
<td>411*731</td>
<td>2.6</td>
</tr>
<tr>
<td>iphone6 Plus</td>
<td>5.5</td>
<td>414*736</td>
<td>3.0</td>
</tr>
<tr>
<td>Samsung Galaxy Note4</td>
<td>5.7</td>
<td>480*853</td>
<td>3.0</td>
</tr>
<tr>
<td>Sony Xperia Z Ultra</td>
<td>6.4</td>
<td>540*960</td>
<td>2.0</td>
</tr>
<tr>
<td>Nexus 7(‘12)</td>
<td>7.0</td>
<td>600*960</td>
<td>1.3</td>
</tr>
<tr>
<td>iPad Mini</td>
<td>7.9</td>
<td>768*1024</td>
<td>1.0</td>
</tr>
</tbody></table>
</blockquote>
<p>那么设置HTML宽度多少为合适呢？设置为屏幕的窗口大小应该正好合适</p>
<p><strong>设置viewport</strong></p>
<p>meta标签设置：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, user-scalable=no, initial-scale=1.0,maximum-scale=1.0, minimum-scale=1.0"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>width=device-width</code>：改变HTML默认的980px 为 屏幕的宽度；</p>
<p><code>user-scalable</code>: 是否允许用户缩放屏幕 值：no(0不允许) yes(1允许)；</p>
<p><code>initial-scale</code>：初始化缩放比例；1.0：不缩放；</p>
<p><code>maximum-scale</code>：用户对页面的最大缩放比例；值：比例</p>
<p><code>minimum-scale</code>：用户对页面的最小缩放比例；值：比例</p>
<h2 id="二倍图"><a href="#二倍图" class="headerlink" title="二倍图"></a>二倍图</h2><p><strong>物理像素点</strong></p>
<ul>
<li>指计算机显示设备中的最小单位，即一个像素点的大小。每一个像素点可以理解为就是屏幕上的一个发光<br>点。每个点可以发一个颜色，就是我们看到的画面。</li>
<li>早期的屏幕，物理像素点都比较大，随着技术的进步，物理像素点会被做的越来越小。</li>
</ul>
<p><strong>屏幕分辨率</strong></p>
<ul>
<li>由物理像素点的个数来衡量，表示屏幕水平和垂直方向的物理像素点的个数。</li>
</ul>
<blockquote>
<p>  例如：iPhone3和iPhone4是同一个屏幕尺寸下，比较分辨率：</p>
<p>  <img src="https://i.loli.net/2020/11/05/tmYVi7JlQxLUeup.png" alt=""></p>
<p>  Retina（视网膜屏幕）是一种显示技术，可以将把更多的物理像素点压缩至一块屏幕里；从而达到更高的分辨率，并提高屏幕显示的细腻程度。</p>
<p>  <img src="https://i.loli.net/2020/11/05/NfyYevr6w3DQa1q.png" alt="image-20201105133553373"></p>
</blockquote>
<p><strong>图片分辨率</strong></p>
<p>假设：有200*200分辨率的图片，展示在宽度分别是320（iphone3）、640(iphone4)分辨率的手机上，展示<br>的效果如下：</p>
<p><img src="https://i.loli.net/2020/11/05/AKrpNHldgYZSI6F.png" alt="image-20201105133722991"></p>
<p>可以看出，不同的屏幕下，显示的图片大小是不一样的；物理像素点的宽度大小为1：0.5，物理像素点的数量：320（1 x 200=200长度）、640(0.5 x 400=200长度；都设为是200长度，才能保证显示的大小一样，这时320的屏幕是200像素点，而640的屏幕是400个像素点。</p>
<p>在移动端，我们可以通过设置CSS样式宽高200px后，会自动保证每个屏幕显示元素大小一样，它会自动算出不同屏幕下，背后需要提供物理像素点需要多少个。</p>
<p><strong>二倍图</strong></p>
<p>像针对640分辨率手机屏（iPhone4），要求设计给400*400图，对应我们CSS设置200px,有二倍的关系：</p>
<p>命名：</p>
<ul>
<li><a href="mailto:xxxxx@2x.png">xxxxx@2x.png</a>：二倍图</li>
<li><a href="mailto:xxxxx@3x.png">xxxxx@3x.png</a>：三倍图</li>
</ul>
<h2 id="移动端常见布局"><a href="#移动端常见布局" class="headerlink" title="移动端常见布局"></a>移动端常见布局</h2><p>了解常见布局不同，针对业务需求选择不同的方案；实际开发过程中，都是混合使用，没有哪一种是绝对的<br>单独使用。</p>
<p>常见布局包括以下几种方式</p>
<ul>
<li>单独制作移动端页面<ul>
<li>流式布局 (百分比布局)</li>
<li>flex弹性布局 (强列推荐)</li>
<li>less+rem+媒体查询布局</li>
<li>混合布局</li>
</ul>
</li>
<li>响应式页面兼容移动端<ul>
<li>媒体查询</li>
<li>bootstrap</li>
</ul>
</li>
</ul>
<p>比较：</p>
<ul>
<li>单独制作：流式、flex、rem布局、专门针对各种手机屏幕进行开发。例如：淘宝、京东、苏宁手机端都是单独制作的</li>
<li>响应式：可兼容PC 移动端，一个页面多个端适配显示；制作起来要考虑到兼容性的样式。例如：三星电子官网<a href="http://www.samsung.com/cn/" target="_blank" rel="noopener">www.samsung.com/cn/</a> 就是响应式布局</li>
</ul>
<h3 id="流式布局"><a href="#流式布局" class="headerlink" title="流式布局"></a>流式布局</h3><p>看下面代码，左右两部分以百分比来定义宽度，这样无论屏幕如何变化都可以保证效果</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        *&#123;<span class="attribute">margin</span>: <span class="number">0</span>;<span class="attribute">padding</span>: <span class="number">0</span>;&#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.op</span>&#123;</span></span><br><span class="line">            width: 100%;</span><br><span class="line">            border: 1px solid red;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.op</span>&gt;<span class="selector-tag">div</span>&#123;</span></span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.left</span>&#123;</span></span><br><span class="line">            width: 40%;</span><br><span class="line">            height: 200px;</span><br><span class="line">            background: blue;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.right</span>&#123;</span></span><br><span class="line">            width: 60%;</span><br><span class="line">            height: 200px;</span><br><span class="line">            background: pink;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"op"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span>左<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span>右<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="flex布局"><a href="#flex布局" class="headerlink" title="flex布局"></a>flex布局</h3><p>参考<a href="https://ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="noopener">Flex 布局教程：语法篇</a></p>
<h4 id="flex介绍"><a href="#flex介绍" class="headerlink" title="flex介绍"></a>flex介绍</h4><p>布局的传统解决方案，基于<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/box_model" target="_blank" rel="noopener">盒状模型</a>，依赖 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/display" target="_blank" rel="noopener"><code>display</code></a> 属性 + <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/position" target="_blank" rel="noopener"><code>position</code></a>属性 + <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/float" target="_blank" rel="noopener"><code>float</code></a>属性。它对于那些特殊布局非常不方便，比如，垂直居中就不容易实现。</p>
<p>2009年，W3C 提出了一种新的方案—-Flex 布局，可以简便、完整、响应式地实现各种页面布局。目前，它已经得到了所有浏览器的支持，这意味着，现在就能很安全地使用这项功能。</p>
<p>Flex 是 Flexible Box 的缩写，意为”弹性布局”，用来为盒状模型提供最大的灵活性。</p>
<p><strong>传统布局与flex布局比较：</strong></p>
<ul>
<li><p>传统布局：</p>
<ul>
<li>兼容性好、布局繁琐、浮动（清除浮动）</li>
<li>有局限性不能在移动端很好的布局</li>
</ul>
</li>
<li><p>flex布局：</p>
<ul>
<li>操作方便，布局极其简单，移动端使用比较广泛</li>
<li>PC端浏览器支持情况比较差</li>
</ul>
<blockquote>
<p>  如果是PC端页面布局，采用传统方式；如果是移动端或者是不考虑兼容的PC端则采用flex布局</p>
</blockquote>
</li>
</ul>
<p><strong>flex布局特点：</strong></p>
<ul>
<li>任何一个容器标签都可以指定使用 flex 布局。</li>
<li><font color = red>当为父标签设为 flex 布局以后，子元素的 <code>float</code>、<code>clear</code> 和 <code>vertical-align</code> 属性将失效。</font></li>
<li>使用思想上和传统盒子完全不同，不要再想子元素是块级元素、行内元素，</li>
<li>flex通过行和列的思路来控制布局；</li>
</ul>
<p><strong>基本概念：</strong></p>
<p>采用 flex 布局的元素，称为 flex 容器（flex container），父级简称”<strong>容器</strong>“。它的所有子元素自动成为容器成员，称为 flex 项目（flex item），简称”<strong>项目</strong>“。</p>
<p><img src="https://i.loli.net/2020/11/05/Oznr9KpjHYfoLe8.png" alt=""></p>
<p><strong>语法使用：</strong></p>
<p>任何一个容器都可以指定为 Flex 布局。</p>
<blockquote>
  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line"> <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>行内元素也可以使用 Flex 布局。</p>
<blockquote>
  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line"> <span class="attribute">display</span>: inline-flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>Webkit 内核的浏览器，必须加上<code>-webkit</code>前缀。</p>
<blockquote>
  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line"> <span class="attribute">display</span>: -webkit-flex; <span class="comment">/* Safari */</span></span><br><span class="line"> <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="容器属性"><a href="#容器属性" class="headerlink" title="容器属性"></a>容器属性</h4><p>容器属性有以下6个</p>
<ul>
<li><code>flex-direction</code></li>
<li><code>flex-wrap</code></li>
<li><code>flex-flow</code></li>
<li><code>justify-content</code></li>
<li><code>align-items</code></li>
<li><code>align-content</code></li>
</ul>
<h5 id="flex-direction属性"><a href="#flex-direction属性" class="headerlink" title="flex-direction属性"></a>flex-direction属性</h5><p> <code>flex-direction</code>属性决定主轴的方向（即项目的排列方向）。元素默认按照确认的主轴方向进行排布。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flex-direction:row | row-reverse | column | column-reverse;</span><br></pre></td></tr></table></figure>

<p>它有4个值：</p>
<table>
<thead>
<tr>
<th align="left">属性值</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>row</code> (默认值)</td>
<td align="left">水平方向 ，从左到右</td>
</tr>
<tr>
<td align="left"><code>row-reverse</code></td>
<td align="left">水平方向，从右到左</td>
</tr>
<tr>
<td align="left"><code>column</code></td>
<td align="left">垂直方向，从上到下</td>
</tr>
<tr>
<td align="left"><code>column-reverse</code></td>
<td align="left">垂直方向，从下到上</td>
</tr>
</tbody></table>
<h5 id="flex-wrap属性"><a href="#flex-wrap属性" class="headerlink" title="flex-wrap属性"></a>flex-wrap属性</h5><p>默认情况下，项目都排在一条线（又称”轴线”）上。<code>flex-wrap</code>属性定义，如果一条轴线排不下，如何换行。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flex-wrap:nowrap | warp | wrap-reverse;</span><br></pre></td></tr></table></figure>

<p>它有3个值：</p>
<table>
<thead>
<tr>
<th align="left">属性值</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>nowarp</code>(默认值)</td>
<td align="left">不换行；子项目加起来的宽度超过父级的宽度时，子项宽度会被缩小，宽度只是不生效，必须设置</td>
</tr>
<tr>
<td align="left"><code>warp</code></td>
<td align="left">换行，子项的总宽加起来超过父级宽度，就会换行，第一行在上方</td>
</tr>
<tr>
<td align="left"><code>warp-reverse</code></td>
<td align="left">换行，子项的总宽加起来超过父级宽度，就会换行，第一行在下方</td>
</tr>
</tbody></table>
<h5 id="flex-flow属性"><a href="#flex-flow属性" class="headerlink" title="flex-flow属性"></a>flex-flow属性</h5><p><code>flex-flow</code>属性是<code>flex-direction</code>属性和<code>flex-wrap</code>属性的简写形式，默认值为<code>row nowrap</code>。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flex-flow: &lt;flex-direction&gt; || &lt;flex-wrap&gt;;</span><br></pre></td></tr></table></figure>

<h5 id="justify-content属性"><a href="#justify-content属性" class="headerlink" title="justify-content属性"></a>justify-content属性</h5><p><code>justify-content</code>属性定义了项目在主轴上的对齐方式，类似word里的左对齐，右对齐，居中对齐，分散对齐；</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">justify-content: flex-start | flex-end | center | space-between | space-around;</span><br></pre></td></tr></table></figure>

<p>它有5个值：</p>
<table>
<thead>
<tr>
<th align="left">属性值</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>flex-start</code>(默认值)</td>
<td align="left">从头部开始 排列，如果主轴是x轴，则从左到右（左对齐）</td>
</tr>
<tr>
<td align="left"><code>flex-end</code></td>
<td align="left">从尾部开始排列</td>
</tr>
<tr>
<td align="left"><code>center</code></td>
<td align="left">在主轴居中对齐（如果主轴是x轴 水平居中）</td>
</tr>
<tr>
<td align="left"><code>space-around</code></td>
<td align="left">每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍。</td>
</tr>
<tr>
<td align="left"><code>space-between</code></td>
<td align="left">两端对齐，项目之间的间隔都相等。</td>
</tr>
</tbody></table>
<p><img src="https://i.loli.net/2020/11/05/TVsbDKdaExAP8f4.png" alt="image-20201105165428118"></p>
<h5 id="align-items属性"><a href="#align-items属性" class="headerlink" title="align-items属性"></a>align-items属性</h5><p><code>align-items</code>属性是控制子项单行在侧轴（交叉轴，默认是y轴）上的对齐方式，在子项为单项（单行）的时候使用；整体一行元素看成整体，设置在侧轴上的对齐方式。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">align-items: flex-start | flex-end | center | baseline | stretch;</span><br></pre></td></tr></table></figure>

<p>它有5个值：</p>
<table>
<thead>
<tr>
<th align="left">属性值</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>flex-start</code></td>
<td align="left">交叉轴的起点对齐(如果是y轴 ，从上到下）</td>
</tr>
<tr>
<td align="left"><code>flex-end</code></td>
<td align="left">交叉轴的终点对齐</td>
</tr>
<tr>
<td align="left"><code>center</code></td>
<td align="left">交叉轴的中点对齐。</td>
</tr>
<tr>
<td align="left"><code>stretch</code>(默认值)</td>
<td align="left">如果项目未设置高度或设为auto，将占满整个容器的高度。</td>
</tr>
<tr>
<td align="left"><code>baseline</code></td>
<td align="left">项目的第一行文字的基线对齐。</td>
</tr>
</tbody></table>
<p><img src="https://i.loli.net/2020/11/05/Pb8shxufpnevYMS.png" alt=""></p>
<h5 id="align-content属性"><a href="#align-content属性" class="headerlink" title="align-content属性"></a>align-content属性</h5><p><code>align-content</code>属性设置项目在侧轴的排列方式 ，只能用于子项出现换行或者多行的情况,如果项目只有一根轴线(一行)，该属性不起作用。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">align-content: flex-start | flex-end | center | space-between | space-around | stretch;</span><br></pre></td></tr></table></figure>

<p>它有6个值：</p>
<table>
<thead>
<tr>
<th align="left">属性值</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>flex-start</code></td>
<td align="left">从侧轴头部开始排列</td>
</tr>
<tr>
<td align="left"><code>flex-end</code></td>
<td align="left">从侧轴尾部开始排列</td>
</tr>
<tr>
<td align="left"><code>center</code></td>
<td align="left">在侧轴中间显示</td>
</tr>
<tr>
<td align="left"><code>stretch</code>(默认值)</td>
<td align="left">项目高度平分容器高度</td>
</tr>
<tr>
<td align="left"><code>space-between</code></td>
<td align="left">与侧轴两端对齐，轴线之间的间隔平均分布。</td>
</tr>
<tr>
<td align="left"><code>space-arond</code></td>
<td align="left">每根轴线两侧的间隔都相等。所以，轴线之间的间隔比轴线与边框的间隔大一倍。</td>
</tr>
</tbody></table>
<p><img src="https://i.loli.net/2020/11/05/NvrsDGHJ3mp6WM9.png" alt="image-20201105171729060"></p>
<h4 id="项目属性"><a href="#项目属性" class="headerlink" title="项目属性"></a>项目属性</h4><p>项目属性有以下6个：</p>
<ul>
<li><code>order</code></li>
<li><code>flex-grow</code></li>
<li><code>flex-shrink</code></li>
<li><code>flex-basis</code></li>
<li><code>flex</code></li>
<li><code>align-self</code></li>
</ul>
<h5 id="order属性"><a href="#order属性" class="headerlink" title="order属性"></a>order属性</h5><p><img src="https://i.loli.net/2020/11/05/EZfINrvdcjOiazR.png" alt=""></p>
<h5 id="flex-grow属性"><a href="#flex-grow属性" class="headerlink" title="flex-grow属性"></a>flex-grow属性</h5><p><img src="https://i.loli.net/2020/11/05/dmEyo3HPGRc9WJK.png" alt="image-20201105172534642"></p>
<h5 id="flex-shrink属性"><a href="#flex-shrink属性" class="headerlink" title="flex-shrink属性"></a>flex-shrink属性</h5><p><img src="https://i.loli.net/2020/11/05/QTybV43Cfz62JLo.png" alt=""></p>
<h5 id="flex-basis属性"><a href="#flex-basis属性" class="headerlink" title="flex-basis属性"></a>flex-basis属性</h5><p><img src="https://i.loli.net/2020/11/05/PIBMRicrzHqlyn2.png" alt=""></p>
<h5 id="flex属性"><a href="#flex属性" class="headerlink" title="flex属性"></a>flex属性</h5><p><code>flex</code>属性是<code>flex-grow</code>, <code>flex-shrink</code> 和 <code>flex-basis</code>的简写，默认值为<code>0 1 auto</code>。后两个属性可选。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: none | [ &lt;<span class="string">'flex-grow'</span>&gt; &lt;<span class="string">'flex-shrink'</span>&gt;? || &lt;<span class="string">'flex-basis'</span>&gt; ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>该属性有两个快捷值：<code>auto</code> (<code>1 1 auto</code>) 和 <code>none</code> (<code>0 0 auto</code>)。</p>
<p>建议优先使用这个属性，而不是单独写三个分离的属性，因为浏览器会推算相关值。</p>
<h5 id="align-self属性"><a href="#align-self属性" class="headerlink" title="align-self属性"></a>align-self属性</h5><p><code>align-self</code>属性允许单个项目有与其他项目不一样的对齐方式，可覆盖<code>align-items</code>属性。默认值为<code>auto</code>，表示继承父元素的<code>align-items</code>属性，如果没有父元素，则等同于<code>stretch</code>。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">align-self</span>: auto | flex-start | flex-end | center | baseline | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>除了auto，其他5个属性值的含义与<code>align-items</code>属性完全一样。</p>
<h3 id="移动端适配"><a href="#移动端适配" class="headerlink" title="移动端适配"></a>移动端适配</h3><h4 id="媒体查询"><a href="#媒体查询" class="headerlink" title="媒体查询"></a>媒体查询</h4><blockquote>
<p>  媒体查询可以感受到屏幕的变化；可以根据屏幕不同的宽，从而获得不同的样式，然后实现不同的样式显示。</p>
<ol>
<li><p>CSS3 新语法，是一个查询屏幕的过程，通过查询当前屏幕尺寸属于哪个范围，从而有哪个范围的样式生效；</p>
</li>
<li><p>感受屏幕变化，屏幕变化就是宽度的变化，通过预设置，当屏幕到了我已经预设置的变化的范围，就会把我提前设置好的样式进行生效；</p>
</li>
</ol>
</blockquote>
<p><strong>语法</strong>：CSS样式如下</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">mediatype 查询类型:</span></span><br><span class="line"><span class="comment">-----------------</span></span><br><span class="line"><span class="comment">all 所有设备</span></span><br><span class="line"><span class="comment">print 用于打印机和打印预览</span></span><br><span class="line"><span class="comment">screen 用于电脑屏幕，平板电脑，智能手机等。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">条件:</span></span><br><span class="line"><span class="comment">----</span></span><br><span class="line"><span class="comment">and 并且 not 不满足 only 仅仅满足</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">media feature 查询条件:</span></span><br><span class="line"><span class="comment">----------------------</span></span><br><span class="line"><span class="comment">width,min-with,max-width</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">@media</span> mediatype <span class="keyword">and</span>|<span class="keyword">not</span>|<span class="keyword">only</span> (media feature) &#123;</span><br><span class="line">	<span class="selector-tag">CSS-Code</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>例子：</strong>如果文档宽度小于 500 像素则修改背景颜色(background-color)</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* min-width/max-width：最小界值，最大界值；查询条件包含等于号；*/</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span><span class="number">499px</span>) &#123;</span><br><span class="line">	<span class="selector-tag">body</span> &#123;</span><br><span class="line">		<span class="attribute">background-color</span>: red;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="rem"><a href="#rem" class="headerlink" title="rem"></a>rem</h4><blockquote>
<p>  rem是一个相对单位，类似于em，</p>
<p>  不同的是rem的基准是相对于html元素的字体大小，em是父元素字体大小。</p>
</blockquote>
<p>rem让一些不能等比自适应的元素，达到当设备尺寸发生改变的时候，等比例适配当前设备。</p>
<p>rem单位，可以控制整个页面所有元素有关PX类（宽、高、padding、margin、top…）只要是你设置数值的地方都可以实现控制；</p>
<p>根(root): 1 rem代表HTML的font-size大小；</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 1.根html 为 10px */</span></span><br><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 2.此时 div 的宽就是 150px */</span></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">15rem</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>rem应用：</strong></p>
<p>使用媒体查询根据不同设备按比例设置html的字体大小，然后页面元素使用rem做尺寸单位，当html字体大小变化，元素尺寸也会发生变化，从而达到等比缩放的适配。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width:</span> <span class="number">320px</span>) &#123;</span><br><span class="line">	<span class="selector-tag">html</span> &#123;</span><br><span class="line">		<span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width:</span> <span class="number">640px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">html</span> &#123;</span><br><span class="line">    	<span class="attribute">font-size</span>: <span class="number">40px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*在屏幕宽度为320px-639px的设备上，div的宽高就都是20px;</span></span><br><span class="line"><span class="comment">在屏幕宽度大与等于640px的设备上，div的宽高就都是40px;*/</span></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">1rem</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">1rem</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="less"><a href="#less" class="headerlink" title="less"></a>less</h4><ul>
<li>less : 让你写更少的代码，实现相同的效果；</li>
<li>less :是一门 CSS 扩展语言，它扩展了CSS的动态特性。 CSS 预处理语言。</li>
<li>常见的CSS预处理器：Sass、Less、Stylus 。</li>
<li>Less中文网址：<a href="http://lesscss.cn/" target="_blank" rel="noopener">http://lesscss.cn/</a></li>
</ul>
<p><strong>less安装：</strong></p>
<p>sublime安装less和less2Css插件：</p>
<p><a href="https://blog.csdn.net/redase/article/details/83998172" target="_blank" rel="noopener">https://blog.csdn.net/redase/article/details/83998172</a></p>
<p>vscode安装less插件：</p>
<ul>
<li>在扩展：商店中搜 Easy Less安装即可</li>
</ul>
<p>测试：写一个.less文件，保存，就会在当前目录生成一个对应的.css文件</p>
<p><img src="https://i.loli.net/2020/11/05/SCPpKOIl3Qy4soZ.png" alt="image-20201105205211449"></p>
<p><strong>less变量</strong></p>
<p>变量是指没有固定的值，可以改变的。我们CSS中的一些颜色和数值等经常使用，可以设置为变量；语法：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//@变量名:值;</span></span><br><span class="line"><span class="variable">@bg:</span><span class="number">#333</span>;</span><br><span class="line"><span class="selector-class">.box_1</span> &#123;</span><br><span class="line">	<span class="attribute">background-color</span>: <span class="variable">@bg</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box_2</span> &#123;</span><br><span class="line">	<span class="attribute">background-color</span>: <span class="variable">@bg</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>变量命名规则：</p>
<ul>
<li>必须有@为前缀</li>
<li>不能包含特殊字符~=+、不能以数字开头</li>
<li>大小写敏感区分；</li>
</ul>
<p><strong>less嵌套</strong></p>
<p>类似HTML一样写less结构；语法：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* css 写法 */</span></span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.logo</span> &#123;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* less 写法 */</span></span><br><span class="line"><span class="selector-id">#header</span> &#123;</span><br><span class="line">	.logo &#123;</span><br><span class="line">		<span class="selector-tag">width</span>: 300<span class="selector-tag">px</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>交集|伪类|伪元素选择器，语法：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* css写法 */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">	<span class="attribute">color</span>:red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* less写法 */</span></span><br><span class="line"><span class="selector-tag">a</span>&#123;</span><br><span class="line">	&amp;:hover&#123;</span><br><span class="line">		<span class="selector-tag">color</span><span class="selector-pseudo">:red</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>less运算</strong></p>
<p>任何数字、颜色或者变量都可以参与运算，Less提供了加（+）、减（-）、乘（*）、除（/）算术运算。</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数字</span></span><br><span class="line"><span class="attribute">width</span>: <span class="number">200px</span> - <span class="number">50</span>;</span><br><span class="line"><span class="comment">// 颜色</span></span><br><span class="line"><span class="attribute">background-color</span>: <span class="number">#666</span> - <span class="number">#222</span>;</span><br><span class="line"><span class="comment">// 注意：运算符中间左右有个空格隔开</span></span><br></pre></td></tr></table></figure>

<p>运算后的单位选择：</p>
<ul>
<li>如果两个值之间只有一个值有单位，则运算结果就取该单位</li>
<li>对于两个不同的单位的值之间的运算，运算结果的值取第一个值的单位</li>
</ul>
<blockquote>
<p>  更多less的用法可以访问less的文档</p>
<ol>
<li><p><a href="http://lesscss.cn/" target="_blank" rel="noopener">http://lesscss.cn/</a></p>
</li>
<li><p><a href="https://less.bootcss.com/" target="_blank" rel="noopener">https://less.bootcss.com/</a></p>
</li>
</ol>
</blockquote>
<h4 id="两种移动端适配方案"><a href="#两种移动端适配方案" class="headerlink" title="两种移动端适配方案"></a>两种移动端适配方案</h4><h5 id="方案一-：rem-媒体查询-less"><a href="#方案一-：rem-媒体查询-less" class="headerlink" title="方案一 ：rem+媒体查询+less"></a>方案一 ：rem+媒体查询+less</h5><p>上面已经说明过了</p>
<p>使用媒体查询根据不同设备按比例设置html的字体大小，然后页面元素使用rem做尺寸单位，当html字体大小变化，元素尺寸也会发生变化，从而达到等比缩放的适配。</p>
<p>大概步骤就是：</p>
<ol>
<li>准备各个档位下的rem ：提前准备好各个档位下的HTML 的font-size大小；</li>
<li>拿到当前尺寸的1rem代表多少px；</li>
<li>计算比例：把页面刚才所有的元素的PX值替换为rem,可通过less来计算。</li>
<li>达到目标：那么，屏尺寸变化时，1rem(基础块)也会变化，自然就是等比缩放。</li>
</ol>
<h5 id="方案二：rem-flexible-js-less"><a href="#方案二：rem-flexible-js-less" class="headerlink" title="方案二：rem+ flexible.js+less"></a>方案二：rem+ flexible.js+less</h5><p>和上个方案实现原理一样，都是通过改变1rem(基础块)大小实现页面整体元素改变；</p>
<p><strong>filexible.js</strong></p>
<ul>
<li><p>手机淘宝团队出的 简洁高效 移动端适配库；<font color = red>和flex布局没有任何关系</font></p>
</li>
<li><p>github地址：<a href="https://github.com/amfe/lib-flexible" target="_blank" rel="noopener">https://github.com/amfe/lib-flexible</a></p>
</li>
<li><p>不是通过设置CSS媒体查询设置font-size，通过 JS 设置font-size，效果是屏幕变化一点，就有一个rem重新计算；</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setRem</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// docEl.clientWidth JS获取当前屏幕的宽度</span></span><br><span class="line">	<span class="comment">// 除以10,得到基础块,(将屏幕划分为10块)</span></span><br><span class="line">	<span class="keyword">var</span> rem = docEl.clientWidth / <span class="number">10</span>;</span><br><span class="line">	docEl.style.fontSize = rem + <span class="string">'px'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>举个例子：</p>
<ul>
<li><p>假如拿到屏幕宽度按430px设计的设计稿，</p>
</li>
<li><p>拿到UI设计稿，原稿实现：页面上所有的元素，在设计稿上进行测量，代码实现；（流式、flex）只要是UI给图上有标注，就是写出来；先全部实现出来，一会儿统一替换；</p>
<ul>
<li>在哪里写？less文件</li>
<li>需要把生成的css文件进行引入index.html；</li>
</ul>
</li>
<li><p>设计稿宽度/10 ：1rem = 43px；</p>
</li>
<li><p>统一替换：100px=100/43 rem;</p>
</li>
</ul>
<blockquote>
<p>  <strong>两种方案的对比</strong></p>
<ul>
<li>相同：<ul>
<li>都是对font-size实现控制，1rem（基础块）变化，实现等比效果；</li>
</ul>
</li>
<li>不同：<ul>
<li>rem+媒体查询+less：通过设置不同的档位下，设置不同的1rem值；效果为阶梯式变化；</li>
<li>flexible.js+rem：通过js设置不同的1rem值，效果为连续变化；这个看起来更为连贯，适配任何屏幕。</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="响应式布局"><a href="#响应式布局" class="headerlink" title="响应式布局"></a>响应式布局</h3><h4 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h4><p>响应式布局可以通过同一份代码快速、有效适配手机、平板、PC设备等所有的屏幕。</p>
<p>响应式布局涉及屏幕宽度变化(媒体查询)和布局知识[传统布局方案(百分比、浮动、清除浮动、定位)]</p>
<h4 id="档位划分"><a href="#档位划分" class="headerlink" title="档位划分"></a>档位划分</h4><p>媒体查询：档位划分；市场上默认的划分，三个节点、四个档位</p>
<ul>
<li>w&lt;768 超小屏幕（xs）（手机）</li>
<li>768&lt;= w &lt;992 小屏设备（sm）（平板）</li>
<li>992&lt;= w &lt;1200 中等屏幕（md）（小显示屏的PC显示器）</li>
<li>1200&lt;=w 大宽屏设备（lg）（大桌面显示器）</li>
</ul>
<p><img src="https://i.loli.net/2020/11/05/tS6KdNzboRBkLiw.png" alt=""></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*把市场上所有屏幕包括在内:*/</span></span><br><span class="line"><span class="comment">/* 1. 超小屏幕下 xs 小于 768 */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width:</span> <span class="number">0px</span>) &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 2. 小屏幕下 sm 大于等于768 */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width:</span> <span class="number">768px</span>) &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 3. 中等屏幕下 md 大于等于 992px */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width:</span> <span class="number">992px</span>) &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 4. 大屏幕下 lg 大于等于1200 */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width:</span> <span class="number">1200px</span>) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="版心"><a href="#版心" class="headerlink" title="版心"></a>版心</h4><p>不同的档位下，版心不同；所有的子元素都是归于版心下，不同的版心宽度，意味着子元素要以不同的布局排版满足用户浏览友好的需求；</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 1. 超小屏幕下 xs 小于 768 布局容器的宽度为 100% */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span> <span class="number">767px</span>) &#123;</span><br><span class="line">	<span class="selector-class">.container</span> &#123;</span><br><span class="line">		<span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 2. 小屏幕下 sm 大于等于768 布局容器改为 750px */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width:</span> <span class="number">768px</span>) &#123;</span><br><span class="line">	<span class="selector-class">.container</span> &#123;</span><br><span class="line">		<span class="attribute">width</span>: <span class="number">750px</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 3. 中等屏幕下 md 大于等于 992px 布局容器修改为 970px */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width:</span> <span class="number">992px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.container</span> &#123;</span><br><span class="line">    	<span class="attribute">width</span>: <span class="number">970px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 4. 大屏幕下 lg 大于等于1200 布局容器修改为 1170 */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width:</span> <span class="number">1200px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.container</span> &#123;</span><br><span class="line">    	<span class="attribute">width</span>: <span class="number">1170px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  注意：</p>
<ul>
<li>媒体查询使用符号的相关：min-，max-包含等号，后面是数值单位为px；</li>
<li>除超小屏以外：版心的宽度设置都是小于当前档位最小界值，比如 min-width: 768px，版心是750px；两边留空白，用户体验好。</li>
<li>以上是市场默认划分，可根据自己需求添加档位；</li>
</ul>
</blockquote>
<h4 id="BootStrap"><a href="#BootStrap" class="headerlink" title="BootStrap"></a><a href="https://www.bootcss.com/" target="_blank" rel="noopener">BootStrap</a></h4><p>BootStrap框架可快速搭建出响应式页面；</p>
<ul>
<li><p>BootStrap 出自 Twitter（推特），是目前最受欢迎的前端响应式框架。</p>
</li>
<li><p>网址：</p>
<ul>
<li>中文网：<a href="http://www.bootcss.com/" target="_blank" rel="noopener">http://www.bootcss.com/</a></li>
</ul>
</li>
<li><p>版本：</p>
<ul>
<li>2.x.x：停止维护，代码不够简洁，功能不够完善。</li>
<li>3.x.x：目前使用最多，稳定，不支持IE6-IE7。对 IE8 支持，界面效果不好，偏向用于开发响应式布局、移动设备优先的WEB 项目。</li>
<li>4.x.x：最新版，目前还不是很流行</li>
</ul>
</li>
</ul>
<p><strong>使用</strong></p>
<p>使用前需要先去官网下载<a href="https://v3.bootcss.com/getting-started/，如无特殊需求，建议下载用于生产环境的。" target="_blank" rel="noopener">https://v3.bootcss.com/getting-started/，如无特殊需求，建议下载用于生产环境的。</a></p>
<p><img src="https://i.loli.net/2020/11/05/I8aFMTEqcypOxXZ.png" alt=""></p>
<p>下载完成后，将其整个文件夹放入你的项目中。</p>
<p> 初始化html文件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 要求 当前网页 使用 IE浏览器 最高版本的内核 来渲染 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 视口的设置：视口的宽度和设备一致，默认的缩放比例和PC端一致，用户不能自行缩放 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>BootStrap Template<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Bootstrap 的文件引入--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"css/bootstrap.min.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--解决ie9以下浏览器对html5新增标签的不识别，并导致CSS不起作用的问题--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--解决ie9以下浏览器对 css3 Media Query 的不识别 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- WARNING: Respond.js doesn't work if you view the page via file:// --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 条件注释:解决小于IE9的版本一些问题 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--[if lt IE 9]&gt;</span></span><br><span class="line"><span class="comment">        &lt;script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="comment">        &lt;script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="comment">        &lt;![endif]--&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">h1</span>&gt;</span>你好，世界！<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>  条件注释：满足条件，下面代码链接就会发出请求；</p>
  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[if lt IE 9]</span></span><br><span class="line">	&lt;script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"&gt;&lt;/script&gt;</span><br><span class="line">	&lt;script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"&gt;&lt;/script&gt;</span><br><span class="line"><span class="selector-attr">[endif]</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="布局容器"><a href="#布局容器" class="headerlink" title="布局容器"></a>布局容器</h5><ul>
<li>版心设置：BootStrap 需要为页面内容包裹一个 .container 或者.container-fluid 容器，它提供了两个作此用处的类。</li>
<li><code>.container</code>：设置不同档位下的版心的宽度；<ul>
<li>超小屏（xs : extra small）：手机； 0px &lt;=w ；版心宽度为100%</li>
<li>小屏（sm : small） ：平板； 768px&lt;=w ；版心宽度定为 750px</li>
<li>中屏（md: medium）：桌面；992px&lt;=w ；版心宽度定为 970px</li>
<li>大屏（lg: large）：大桌面；1200px&lt;=w ；版心宽度定为 1170px</li>
</ul>
</li>
<li>.container-fluid：百分百宽度；</li>
<li>特点：<ul>
<li>所有元素为CSS3盒子模型；</li>
<li>布局盒子有左右15px padding值；</li>
</ul>
</li>
</ul>
<h5 id="Bootstrap预制类名"><a href="#Bootstrap预制类名" class="headerlink" title="Bootstrap预制类名"></a>Bootstrap预制类名</h5><ul>
<li><p>排版</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>h1. Bootstrap heading<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>h2. Bootstrap heading<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">h6</span>&gt;</span>h6. Bootstrap heading<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>更多内容可以参考：<a href="https://v3.bootcss.com/css/#type" target="_blank" rel="noopener">https://v3.bootcss.com/css/#type</a></p>
</li>
<li><p>按钮</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn btn-default"</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">role</span>=<span class="string">"button"</span>&gt;</span>Link<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"btn btn-default"</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span>Button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"btn btn-default"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Input"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"btn btn-default"</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Submit"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>更多内容可以参考：<a href="https://v3.bootcss.com/css/#buttons" target="_blank" rel="noopener">https://v3.bootcss.com/css/#buttons</a></p>
</li>
<li><p>辅助类样式</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 上下文颜色 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"text-muted"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 下拉三角 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"caret"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>更多内容可以参考：<a href="https://v3.bootcss.com/css/#helper-classes" target="_blank" rel="noopener">https://v3.bootcss.com/css/#helper-classes</a></p>
</li>
<li><p>字体图标</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 搜索🔍 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"glyphicon glyphicon-search"</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>更多内容可以参考：<a href="https://v3.bootcss.com/components/#glyphicons" target="_blank" rel="noopener">https://v3.bootcss.com/components/#glyphicons</a></p>
</li>
</ul>
<h5 id="Bootstrap栅格系统"><a href="#Bootstrap栅格系统" class="headerlink" title="Bootstrap栅格系统"></a>Bootstrap栅格系统</h5><p>栅格系统可以设置子元素在不同档位下的布局；</p>
<p>栅格系统，在各个档位下，控制子元素布局不同；将版心宽度均分为12份；</p>
<p>各个档位下都有预制好的类前缀：</p>
<p><img src="https://i.loli.net/2020/11/05/v5pARWne17VXTZ9.png" alt=""></p>
<p>栅格系统用于通过一系列的<strong>行（row）与列（column）的组合</strong>来创建页面布局，你的内容就可以放入这些创建好的布局中，控制不同的档位下，<strong>列的子元素占有几份</strong></p>
<p><strong>基本使用：</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 中屏和以上占有6份 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6"</span>&gt;</span>.col-md-6<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6"</span>&gt;</span>.col-md-6<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 各个档位下，按照各个档位下布局 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6 col-lg-4"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6 col-lg-8"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>单一类前缀：各个档位下的类前缀，为包括当前且向上生效；例如：.col-md-6为中屏和以上占有6份；</li>
<li>多个类前缀：分别按照各个档位列划分生效；</li>
<li>每个子项：默认左右15px的padding；</li>
<li>行（.row） 可以去除父容器左右15px的padding值：.row的左右margin为-15px；</li>
</ul>
<p><strong>列嵌套</strong></p>
<p>可以在已经分好的子元素中内部，继续进行列的划分（共12份），继续在分好的布局内继续划分；</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 直接嵌套 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-sm-4"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-sm-6"</span>&gt;</span>小列<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-sm-6"</span>&gt;</span>小列<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 使用row嵌套 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-sm-4"</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 加1个行 row 这样可以表现出抵消父元素的左右15padding值 而且高度自动和父级一样高; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-sm-6"</span>&gt;</span>小列<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-sm-6"</span>&gt;</span>小列<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>列偏移：</strong></p>
<p>划分好的子项进行列的份数偏移，场景：左右布局，居中布局；</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 左右对齐--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 如果只有一个盒子 那么就偏移 = 12-4-4 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-lg-4"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-lg-4 col-lg-offset-4"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 居中--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 如果只有一个盒子 那么就偏移 = 2 8 2 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-8 col-md-offset-2"</span>&gt;</span>中间盒子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>栅格系统相关内容可以参考：<a href="https://v3.bootcss.com/css/#grid" target="_blank" rel="noopener">https://v3.bootcss.com/css/#grid</a></p>
<h5 id="响应式工具"><a href="#响应式工具" class="headerlink" title="响应式工具"></a>响应式工具</h5><p><img src="https://i.loli.net/2020/11/05/HPAdJC73MOzXIbo.png" alt=""></p>
<ul>
<li>注意：和列类前缀的参数形成对比记忆，<ul>
<li>col-sm-* 是超小屏（包含）以上的屏幕都是这个份数的划分；</li>
<li>响应式工具 只是对当前档位下的类前缀类名生效；</li>
</ul>
</li>
</ul>
<p>响应式工具相关内容可以参考：<a href="https://v3.bootcss.com/css/#responsive-utilities" target="_blank" rel="noopener">https://v3.bootcss.com/css/#responsive-utilities</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.pengspace.top/2020/11/16/%E6%9E%9A%E4%B8%BE%E3%80%81%E6%B3%A8%E8%A7%A3%E5%92%8C%E5%8F%8D%E5%B0%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/05/01/VMPAdgQKfpzoWtc.jpg">
      <meta itemprop="name" content="AnswerCoder">
      <meta itemprop="description" content="记录自己学习的历程">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="鹏空间">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/16/%E6%9E%9A%E4%B8%BE%E3%80%81%E6%B3%A8%E8%A7%A3%E5%92%8C%E5%8F%8D%E5%B0%84/" class="post-title-link" itemprop="url">枚举、注解和反射</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-11-16 19:24:54 / 修改时间：19:29:00" itemprop="dateCreated datePublished" datetime="2020-11-16T19:24:54+08:00">2020-11-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">Java基础</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">评论数：</span>
    
    <a title="valine" href="/2020/11/16/%E6%9E%9A%E4%B8%BE%E3%80%81%E6%B3%A8%E8%A7%A3%E5%92%8C%E5%8F%8D%E5%B0%84/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/11/16/%E6%9E%9A%E4%B8%BE%E3%80%81%E6%B3%A8%E8%A7%A3%E5%92%8C%E5%8F%8D%E5%B0%84/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>8.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>8 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>JDK1.5引入了新的类型——枚举。</p>
<p>在JDK1.5 之前，我们定义常量都是： public static fianl…. 。很难管理。</p>
<p>枚举，可以把相关的常量分组到一个枚举类型里，而且枚举提供了比常量更多的方法。用于定义有限数量的一组同类常量，例如：</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">错误级别：</span><br><span class="line">	低、中、高、急</span><br><span class="line">一年的四季：</span><br><span class="line">	春、夏、秋、冬</span><br><span class="line">商品的类型：</span><br><span class="line">	美妆、手机、电脑、男装、女装...</span><br></pre></td></tr></table></figure>

<p>在枚举类型中定义的常量是该枚举类型的<strong>实例</strong>。</p>
<h3 id="定义格式"><a href="#定义格式" class="headerlink" title="定义格式"></a>定义格式</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">权限修饰符 <span class="keyword">enum</span> 枚举名称 &#123;</span><br><span class="line">	实例<span class="number">1</span>,实例<span class="number">2</span>，实例<span class="number">3</span>,...实例n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Level &#123;</span><br><span class="line">	LOW(<span class="number">1</span>), MEDIUM(<span class="number">2</span>), HIGH(<span class="number">3</span>), URGENT(<span class="number">4</span>);</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> levelValue;</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="title">Level</span><span class="params">(<span class="keyword">int</span> levelValue)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.levelValue = levelValue;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getLevelValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> levelValue;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Level &#123;				<span class="comment">//这样的方式更常用，通过字面意思就能理解枚举中常量的含义</span></span><br><span class="line">	LOW, MEDIUM, HIGH, URGENT;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="枚举类的主要方法"><a href="#枚举类的主要方法" class="headerlink" title="枚举类的主要方法"></a>枚举类的主要方法</h3><p>Enum<font color =red>抽象类</font>常见方法</p>
<p>Enum是所有Java语言枚举类型的公共基本类，以下是它的常见方法：</p>
<table>
<thead>
<tr>
<th align="center">变量和类型</th>
<th align="center">方法</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>protected Object</code></td>
<td align="center"><code>clone()</code></td>
<td align="center">抛出CloneNotSupportedException。</td>
</tr>
<tr>
<td align="center"><code>int</code></td>
<td align="center"><code>compareTo(E o)</code></td>
<td align="center">将此枚举与指定的对象进行比较。</td>
</tr>
<tr>
<td align="center"><code>boolean</code></td>
<td align="center"><code>equals(Object other)</code></td>
<td align="center">如果指定的对象等于此枚举常量，则返回true。</td>
</tr>
<tr>
<td align="center"><code>Class&lt;?&gt;</code></td>
<td align="center"><code>getDeclaringClass()</code></td>
<td align="center">返回与此枚举常量的枚举类型对应的Class对象。</td>
</tr>
<tr>
<td align="center"><code>int</code></td>
<td align="center"><code>hashCode()</code></td>
<td align="center">返回此枚举常量的哈希码。</td>
</tr>
<tr>
<td align="center"><code>String</code></td>
<td align="center"><code>name()</code></td>
<td align="center">返回此枚举常量的名称，与其枚举声明中声明的完全相同。</td>
</tr>
<tr>
<td align="center"><code>int</code></td>
<td align="center"><code>ordinal()</code></td>
<td align="center">返回此枚举常量的序数（它在枚举声明中的位置，其中初始常量的序数为零）。</td>
</tr>
<tr>
<td align="center"><code>String</code></td>
<td align="center"><code>toString()</code></td>
<td align="center">返回声明中包含的此枚举常量的名称。</td>
</tr>
<tr>
<td align="center"><code>static&lt;T extends Enum&lt;T&gt;&gt; T</code></td>
<td align="center"><code>valueOf(Class&lt;T&gt; enumType, String name)</code></td>
<td align="center">返回具有指定名称的指定枚举类型的枚举常量。</td>
</tr>
</tbody></table>
<blockquote>
<p>  以上方法中，只有toString()方法可以被重写</p>
</blockquote>
<h3 id="实现接口的枚举类"><a href="#实现接口的枚举类" class="headerlink" title="实现接口的枚举类"></a>实现接口的枚举类</h3><p>所有的枚举都继承自java.lang.Enum类。由于Java 不支持多继承，所以枚举对象不能再继承其他类。<br>每个枚举对象，都可以实现自己的抽象方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">LShow</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Level implements LShow&#123;</span><br><span class="line">	LOW&#123;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">			<span class="comment">//...</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,MEDIUM&#123;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">			<span class="comment">//...</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,HIGH&#123;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">			<span class="comment">//...</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul>
<li>一旦定义了枚举，最好不要妄图修改里面的值，除非修改是必要的。</li>
<li>枚举类默认继承的是java.lang.Enum类而不是Object类</li>
<li>枚举类不能有子类，因为其枚举类默认被final修饰</li>
<li>只能有private构造方法</li>
<li>switch中使用枚举时，直接使用常量名，不用携带类名</li>
<li>不能定义name属性，因为自带name属性</li>
<li>不要为枚举类中的属性提供set方法，不符合枚举最初设计初衷。</li>
</ul>
<h2 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h2><h3 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h3><p>Java 注解（Annotation）又称 Java 标注，是 JDK5.0 引入的一种注释机制。</p>
<p>Java 语言中的类、方法、变量、参数和包等都可以被标注。和注释不同，Java 标注可以通过反射获取标<br>注内容。在编译器生成类文件时，标注可以被嵌入到字节码中。Java 虚拟机可以保留标注内容，在运行<br>时可以获取到标注内容 。 当然它也支持自定义 Java 标注。</p>
<p>主要用于：编译格式检查、反射中解析、生成帮助文档、跟踪代码依赖等</p>
<h3 id="内置注解"><a href="#内置注解" class="headerlink" title="内置注解"></a>内置注解</h3><ul>
<li><p><code>@Override</code>： 重写 </p>
<ul>
<li>定义在java.lang.Override</li>
</ul>
</li>
<li><p><code>@Deprecated</code>：废弃 </p>
<ul>
<li>定义在java.lang.Deprecated</li>
</ul>
</li>
<li><p><code>@SafeVarargs</code></p>
<ul>
<li>Java 7 开始支持，忽略任何使用参数为泛型变量的方法或构造函数调用产生的警告。</li>
</ul>
</li>
<li><p><code>@FunctionalInterface</code>： 函数式接口 </p>
<ul>
<li>Java 8 开始支持，标识一个匿名函数或函数式接口。</li>
</ul>
</li>
<li><p><code>@Repeatable</code>：标识某注解可以在同一个声明上使用多次</p>
</li>
<li><p>Java 8 开始支持，标识某注解可以在同一个声明上使用多次。</p>
</li>
<li><p><code>SuppressWarnings()</code>  抑制编译时的警告信息。 </p>
<ul>
<li><p>定义在java.lang.SuppressWarnings</p>
</li>
<li><p>三种使用方式</p>
<ul>
<li><code>@SuppressWarnings(&quot;unchecked&quot;)</code> ： 抑制单类型的警告</li>
<li><code>@SuppressWarnings(&quot;unchecked&quot;,&quot;rawtypes&quot;)</code>：抑制多类型的警告</li>
<li><code>@SuppressWarnings(&quot;all&quot;)</code>：抑制所有类型的警告</li>
</ul>
</li>
<li><p>参数列表：</p>
<ul>
<li><table>
<thead>
<tr>
<th>关键字</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>all</td>
<td>抑制所有警告</td>
</tr>
<tr>
<td>boxing</td>
<td>抑制装箱、拆箱操作时候的警告</td>
</tr>
<tr>
<td>cast</td>
<td>抑制映射相关的警告</td>
</tr>
<tr>
<td>dep-ann</td>
<td>抑制启用注释的警告</td>
</tr>
<tr>
<td>deprecation</td>
<td>抑制过期方法警告</td>
</tr>
<tr>
<td>fallthrough</td>
<td>抑制确在switch中缺失breaks的警告</td>
</tr>
<tr>
<td>finally</td>
<td>抑制finally模块没有返回的警告</td>
</tr>
<tr>
<td>hiding</td>
<td>抑制相对于隐藏变量的局部变量的警告</td>
</tr>
<tr>
<td>incomplete-switch</td>
<td>忽略没有完整的switch语句</td>
</tr>
<tr>
<td>nls</td>
<td>忽略非nls格式的字符</td>
</tr>
<tr>
<td>null</td>
<td>忽略对null的操作</td>
</tr>
<tr>
<td>rawtypes</td>
<td>使用generics时忽略没有指定相应的类型</td>
</tr>
<tr>
<td>restriction</td>
<td>抑制禁止使用劝阻或禁止引用的警告</td>
</tr>
<tr>
<td>serial</td>
<td>忽略在serializable类中没有声明serialVersionUID变量</td>
</tr>
<tr>
<td>static-access</td>
<td>抑制不正确的静态访问方式警告</td>
</tr>
<tr>
<td>synthetic-access</td>
<td>抑制子类没有按最优方法访问内部类的警告</td>
</tr>
<tr>
<td>unchecked</td>
<td>抑制没有进行类型检查操作的警告</td>
</tr>
<tr>
<td>unqualified-field-access</td>
<td>抑制没有权限访问的域的警告</td>
</tr>
<tr>
<td>unused</td>
<td>抑制没被使用过的代码的警告</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="元注解"><a href="#元注解" class="headerlink" title="元注解"></a>元注解</h3><p>元注解就是<strong>作用在其他注解</strong>的注解。有下面几种：</p>
<ul>
<li><p><code>@Retention</code>- 标识这个注解怎么保存，是只在代码中，还是编入class文件中，或者是在运行时可以通过反射访问。</p>
</li>
<li><p><code>@Documented</code> - 标记这些注解是否包含在用户文档中。</p>
</li>
<li><p><code>@Target</code> - 标记这个注解应该是哪种 Java 成员。</p>
</li>
<li><p><code>@Inherited</code> - 标记这个注解是自动继承的</p>
<ul>
<li>子类会继承父类使用的注解中被<code>@Inherited</code>修饰的注解</li>
</ul>
<ol start="2">
<li>接口继承关系中，子接口不会继承父接口中的任何注解，不管父接口中使用的注解有没有<br> 被<code>@Inherited</code>修饰</li>
<li>类实现接口时不会继承任何接口中定义的注解</li>
</ol>
</li>
</ul>
<h3 id="自定义注解"><a href="#自定义注解" class="headerlink" title="自定义注解"></a>自定义注解</h3><h4 id="注解架构"><a href="#注解架构" class="headerlink" title="注解架构"></a>注解架构</h4><p><img src="https://i.loli.net/2020/10/26/e5pqFSIxH2NdlUn.png" alt=""></p>
<ul>
<li><p><strong><code>Annotation</code>与<code>RetentionPolicy</code> 、<code>ElementType</code> 。</strong></p>
<p>每 1 个 <code>Annotation</code> 对象，都会有<strong>唯一的 <code>RetentionPolicy</code> 属性，有 1~n个<code>ElementType</code>属性</strong>。</p>
</li>
<li><p><strong><code>ElementType</code>(注解的用途类型)</strong></p>
<p>“每 1 个 <code>Annotation</code>“ 都与 “1～n 个 <code>ElementType</code>“ 关联。当 <code>Annotation</code> 与某个 <code>ElementType</code> 关联时，就意味着：<code>Annotation</code>有了某种用途。例如，若一个 <code>Annotation</code> 对象是 <code>METHOD</code> 类型，则该<code>Annotation</code> 只能用来修饰方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.lang.annotation;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> ElementType &#123;</span><br><span class="line">	TYPE, 			<span class="comment">// 类、接口（包括注释类型）或枚举声明 </span></span><br><span class="line">	FIELD,  		<span class="comment">// 字段声明（包括枚举常量）</span></span><br><span class="line">	METHOD, 		<span class="comment">// 方法声明 </span></span><br><span class="line">	PARAMETER,  	<span class="comment">// 参数声明 </span></span><br><span class="line">	CONSTRUCTOR,  	<span class="comment">// 构造方法声明 </span></span><br><span class="line">	LOCAL_VARIABLE, <span class="comment">// 局部变量声明 </span></span><br><span class="line">	ANNOTATION_TYPE,<span class="comment">// 注释类型声明 </span></span><br><span class="line">	PACKAGE 		<span class="comment">// 包声明 </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>RetentionPolicy</code>（注解作用域策略）</strong>。</p>
<p>“每 1 个 <code>Annotation</code>“ 都与 “1 个 <code>RetentionPolicy</code>“ 关联。</p>
<ul>
<li>若 <code>Annotation</code> 的类型为 <code>SOURCE</code>，则意味着：<code>Annotation</code> 仅存在于编译器处理期间，编译器处理完之后，该<code>Annotation</code> 就没用了。 例如，”<code>@Override</code>“ 标志就是一个 <code>Annotation</code>。当它修饰一个方法的时候，就意味着该方法覆盖父类的方法；并且在编译期间会进行语法检查！编译器处理完后，”<code>@Override</code>“ 就没有任何作用了。</li>
<li>若 <code>Annotation</code> 的类型为 <code>CLASS</code>，则意味着：编译器将 <code>Annotation</code> 存储于类对应的 <code>.class</code>文件中，它是 <code>Annotation</code> 的默认行为。</li>
<li>若 <code>Annotation</code> 的类型为 <code>RUNTIME</code>，则意味着：编译器将 <code>Annotation</code> 存储于 <code>.class</code> 文件中，并且可由JVM读入。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.lang.annotation;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> RetentionPolicy &#123;</span><br><span class="line">	SOURCE, <span class="comment">//Annotation信息仅存在于编译器处理期间，编译器处理完之后就没有该Annotation信息了</span></span><br><span class="line">	CLASS, 	<span class="comment">//编译器将Annotation存储于类对应的.class文件中。默认行为</span></span><br><span class="line">	RUNTIME <span class="comment">//编译器将Annotation存储于class文件中，并且可由JVM读入 </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="定义格式-1"><a href="#定义格式-1" class="headerlink" title="定义格式"></a>定义格式</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@interface</span> 自定义注解名&#123;&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  注意事项</p>
<ol>
<li>定义的注解，自动继承了java.lang.annotation.Annotation接口</li>
<li><strong>注解中的每一个方法，实际是声明的注解配置参数</strong><ul>
<li>方法的名称就是配置参数的名称</li>
<li>方法的返回值类型，就是配置参数的类型。只能是：基本类型/Class/String/enum</li>
</ul>
</li>
<li>可以通过default来声明参数的默认值</li>
<li>如果只有一个参数成员，一般参数名为value</li>
<li>注解元素必须要有值，我们定义注解元素时，经常使用空字符串、 0 作为默认值。</li>
</ol>
</blockquote>
<p><strong>案例</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Target</span>(ElementType.TYPE)</span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyAnnotation1 &#123;</span><br><span class="line">	参数类型 参数名() <span class="keyword">default</span> 默认值;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面代码的作用是定义一个 <code>Annotation</code>，我们可以在代码中通过 “<code>@MyAnnotation1</code>“ 来使用它。<br><code>@Documented</code>， <code>@Target</code>，<code>@Retention</code>，<code>@interface</code> 都是来修饰 <code>MyAnnotation1</code> 的。含义：</p>
<ul>
<li><p><code>@interface</code></p>
<p>使用 <code>@interface</code> 定义注解时，意味着它实现了 <code>java.lang.annotation.Annotation</code> 接口，即该注解就是<code>一个Annotation</code>。</p>
<blockquote>
<p>  <font color = red>定义<code>Annotation</code> 时，<code>@interface</code> 是必须的。</font></p>
<p>  注意：它和我们通常的 <code>implemented</code> 实现接口的方法不同。<code>Annotation</code> 接口的实现细节都由编译器完成。通过 <code>@interface</code> 定义注解后，该注解不能继承其他的注解或接口。</p>
</blockquote>
</li>
<li><p><code>@Documented</code></p>
<p>类和方法的 <code>Annotation</code> 在缺省情况下是不出现在 <code>javadoc</code> 中的。如果使用 <code>@Documented</code> 修饰该<br><code>Annotation</code>，则表示它可以出现在 <code>javadoc</code> 中。</p>
<blockquote>
<p>  定义 <code>Annotation</code> 时，<strong><code>@Documented</code>可有可无</strong>；若没有定义，则 <code>Annotation</code> 不会出现在 <code>javadoc</code>中。</p>
</blockquote>
</li>
<li><p><code>@Target(ElementType.TYPE)</code></p>
<p><code>ElementType</code> 是 <code>Annotation</code> 的类型属性。而 <code>@Target</code> 的作用，就是来指定<code>Annotation</code> 的类型属性的。</p>
<p><code>@Target(ElementType.TYPE)</code> 的意思就是指定该 <code>Annotation</code> 的类型是 <code>ElementType.TYPE</code>。这就意味着，<code>MyAnnotation1</code> 是来修饰”类、接口（包括注释类型）或枚举声明”的注解。</p>
<blockquote>
<p>  定义 <code>Annotation</code> 时，<strong><code>@Target</code> 可有可无</strong>。若有 <code>@Target</code>，则该 <code>Annotation</code> 只能用于它所指定的地方；若没有 <code>@Target</code>，则该 <code>Annotation</code> 可以用于任何地方。</p>
</blockquote>
</li>
<li><p><code>@Retention(RetentionPolicy.RUNTIME)</code></p>
<p><code>RetentionPolicy</code> 是 <code>Annotation</code> 的策略属性，而 <code>@Retention</code> 的作用，就是指定<code>Annotation</code> 的策略属性。</p>
<p><code>@Retention(RetentionPolicy.RUNTIME)</code> 的意思就是指定该 <code>Annotation</code> 的策略是<br><code>RetentionPolicy.RUNTIME</code>。这就意味着，编译器会将该 <code>Annotation</code> 信息保留在 <code>.class</code>文件中，并且能被JVM虚拟机读取。</p>
<blockquote>
<p>  定义 <code>Annotation</code> 时，<code>@Retention</code>可有可无。若没有 <code>@Retention</code>，则默认是<br>  <code>RetentionPolicy.CLASS</code>。</p>
</blockquote>
</li>
</ul>
<h2 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p><a href="https://baike.baidu.com/item/JAVA%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/6015990?fr=aladdin" target="_blank" rel="noopener">JAVA反射机制</a>是在运行状态中，获取任意一个类的结构 、 创建对象 、得到方法、执行方法 、属性，这种在运行状态动态获取信息以及动态调用对象方法的功能被称为java语言的反射机制。</p>
<h3 id="类加载器"><a href="#类加载器" class="headerlink" title="类加载器"></a>类加载器</h3><p>Java类加载器（Java Classloader）是Java运行时环境（Java Runtime Environment）的一部分，负责动态加载Java类到Java虚拟机的内存空间中。</p>
<p>java默认有三种类加载器:<code>BootstrapClassLoader</code>、<code>ExtensionClassLoader</code>、<code>App ClassLoader</code>。</p>
<ul>
<li><p><strong>BootstrapClassLoader（引导启动类加载器）：</strong><br>嵌在JVM内核中的加载器，该加载器是用C++语言（原生语言）写的，主要负载加载JAVA_HOME/lib下的类库，引导启动类加载器无法被应用程序直接使用。</p>
</li>
<li><p><strong>ExtensionClassLoader（扩展类加载器）</strong>：<br>ExtensionClassLoader是用JAVA编写，且它的父类加载器是Bootstrap。</p>
<p>是由sun.misc.Launcher$ExtClassLoader实现的，主要加载JAVA_HOME/lib/ext目录中的类库。</p>
</li>
<li><p><strong>App ClassLoader（应用类加载器）</strong>：<br>App ClassLoader是应用程序类加载器，负责加载应用程序classpath目录下的所有jar和class文<br>件。它的父加载器为Ext ClassLoader</p>
</li>
</ul>
<p><img src="https://i.loli.net/2020/10/26/TGtjSkCnMwp8qUO.png" alt=""></p>
<blockquote>
<p>  类通常是按需加载，即第一次使用该类时才加载。由于有了类加载器，Java运行时系统不需要知道文件与文件系统。</p>
<p>  <strong>委派</strong></p>
<p>  双亲委派模型：<font color = red>如果一个类加载器收到了一个类加载请求，它不会自己去尝试加载这个类，而是把这个请求转交给父类加载器去完成</font>。每一个层次的类加载器都是如此。因此所有的类加载请求都应该传递到最顶层的启动类加载器中，只有到父类加载器反馈自己无法完成这个加载请求（在它的搜索范围没有找到这个类）时，子类加载器才会尝试自己去加载。委派的好处就是避免有些类被重复加载。</p>
</blockquote>
<blockquote>
<p>  <strong>加载配置文件</strong></p>
<p>  如果我们的项目下有source文件夹，类.class.getClassLoader().getResourceAsStream(文件名)加载的是source文件夹下的文件，前提是将文件夹定义为Resources Root</p>
<p>  <img src="https://i.loli.net/2020/10/26/4THGmUu6PEno3qk.png" alt="image-20201026212548653"></p>
<p>  <img src="https://i.loli.net/2020/10/26/JqeIEhX34APUScv.png" alt=""></p>
</blockquote>
<h3 id="获取类对象"><a href="#获取类对象" class="headerlink" title="获取类对象"></a>获取类对象</h3><p>要想了解一个类，必须先要获取到该类的字节码文件对象。在Java中，每一个字节码文件，被加载到内存后，都存在一个对应的Class类型的对象</p>
<p><strong>得到Class的几种方式</strong></p>
<ol>
<li><p>如果在编写代码时, 知道类的名称, 且类已经存在, 可以通过下面代码得到一个类的 类对象</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">包名.类名<span class="class">.<span class="keyword">class</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如果拥有类的对象, 可以通过下面代码得到一个类的类对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class 对象.getClass()</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果在编写代码时, 知道类的名称 , 可以通过下面代码得到一个类的类对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class.forName(<span class="string">"包名.类名"</span>);</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>上述的三种方式, 在调用时, 如果类在内存中不存在, 则会加载到内存! 如果类已经在内存中存在, 不会重复加载, 而是重复利用!</p>
<p><img src="https://i.loli.net/2020/10/26/2X4A53NFvROnwGx.png" alt=""></p>
<blockquote>
<p>  (一个class文件 在内存中不会存在两个类对象 )</p>
<p>  特殊的类对象</p>
<ul>
<li>基本数据类型的类对象:<ul>
<li>基本数据类型.class</li>
<li>包装类.type</li>
</ul>
</li>
<li>基本数据类型包装类对象:<ul>
<li>包装类.class</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="获取Constructor"><a href="#获取Constructor" class="headerlink" title="获取Constructor"></a>获取Constructor</h3><p><strong>通过class对象 获取一个类的构造方法</strong></p>
<ol>
<li><p>通过指定的参数类型, 获取指定的单个构造方法</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getConstructor(参数类型的<span class="class"><span class="keyword">class</span>对象数组)</span></span><br></pre></td></tr></table></figure>

<p> 例如，构造方法如下: </p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Person(String name,<span class="keyword">int</span> age)</span><br></pre></td></tr></table></figure>

<p> 得到这个构造方法的代码如下:</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Constructor c = p.getClass().getConstructor(String<span class="class">.<span class="keyword">class</span>,<span class="title">int</span>.<span class="title">class</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取构造方法数组</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getConstructors();</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取所有权限的单个构造方法</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getDeclaredConstructor(参数类型的<span class="class"><span class="keyword">class</span>对象数组)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>获取所有权限的构造方法数组</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getDeclaredConstructors();</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p><strong>Constructor 创建对象</strong></p>
<p>常用方法:</p>
<ul>
<li><p><code>newInstance(Object... para)</code></p>
<p>调用这个构造方法, 把对应的对象创建出来<br>参数: 是一个Object类型可变参数, 传递的参数顺序 必须匹配构造方法中形式参数列表的顺序!</p>
</li>
<li><p><code>setAccessible(boolean flag)</code><br>如果flag为true 则表示忽略访问权限检查 !(可以访问任何权限的方法)</p>
</li>
</ul>
<p><img src="https://i.loli.net/2020/10/26/OUb4plBsyCr7gX2.png" alt=""></p>
<h3 id="获取Method"><a href="#获取Method" class="headerlink" title="获取Method"></a>获取Method</h3><p><strong>通过class对象获取一个类的方法</strong></p>
<ol>
<li><p>根据参数列表的类型和方法名, 得到一个方法(public修饰的)</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getMethod(String methodName , <span class="class"><span class="keyword">class</span>... <span class="title">clss</span>)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>得到一个类的所有方法 (public修饰的)</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getMethods()</span><br></pre></td></tr></table></figure>
</li>
<li><p>根据参数列表的类型和方法名, 得到一个方法(除继承以外所有的:包含私有，公有， 保护， 默认)</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getDeclaredMethod(String methodName , <span class="class"><span class="keyword">class</span>... <span class="title">clss</span>)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>得到一个类的所有方法 (除继承以外所有的:包含私有，公有， 保护， 默认)</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getDeclaredMethods()</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p><strong>Method 执行方法</strong></p>
<ul>
<li><p><code>invoke(Object o,Object... para)</code></p>
<p>参数1. 要调用方法的对象<br>参数2. 要传递的参数列表</p>
</li>
<li><p><code>getName()</code><br>获取方法的方法名称</p>
</li>
<li><p><code>setAccessible(boolean flag)</code><br>如果flag为true 则{表示忽略访问权限检查 !(可以访问任何权限的方法)</p>
</li>
</ul>
<p><img src="https://i.loli.net/2020/10/26/u3T6tlMyavn59Kf.png" alt=""></p>
<h3 id="获取Field"><a href="#获取Field" class="headerlink" title="获取Field"></a>获取Field</h3><p><strong>通过class对象 获取一个类的属性</strong></p>
<ol>
<li><p>根据属性的名称, 获取一个属性对象 (所有属性)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getDeclaredField(String filedName)</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取所有属性(所有权限)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getDeclaredFields()</span><br></pre></td></tr></table></figure>
</li>
<li><p>根据属性的名称, 获取一个属性对象 (public属性)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getField(String filedName)</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取所有属性 (public)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getFields()</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p><strong>Field 属性的对象类型</strong></p>
<p>常用方法:</p>
<ul>
<li><p><code>get(Object o)</code></p>
<p>参数: 要获取属性的对象，获取指定对象的此属性值</p>
</li>
<li><p><code>set(Object o , Object value)</code></p>
<p>参数1.要设置属性值的对象，参数2. 要设置的值。设置指定对象的属性的值</p>
</li>
<li><p><code>getName()</code><br>获取属性的名称</p>
</li>
<li><p><code>setAccessible(boolean flag)</code></p>
<p>如果flag为true 则表示忽略访问权限检查 !(可以访问任何权限的属性)</p>
</li>
</ul>
<p><img src="https://i.loli.net/2020/10/26/JzatTMCxEkdjfZw.png" alt=""></p>
<h3 id="获取注解信息"><a href="#获取注解信息" class="headerlink" title="获取注解信息"></a>获取注解信息</h3><p><strong>获取类/属性/方法的全部注解对象</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Annotation[] annotations = Class/Field/Method.getAnnotations();</span><br><span class="line"><span class="keyword">for</span> (Annotation annotation : annotations) &#123;</span><br><span class="line">    System.out.println(annotation);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>根据类型获取类/属性/方法的注解对象</strong></p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注解类型 对象名 = (注解类型) c.getAnnotation(注解类型<span class="class">.<span class="keyword">class</span>);</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2020/10/26/ZuIB4gvK5yWfUxD.png" alt=""></p>
<h2 id="内省"><a href="#内省" class="headerlink" title="内省"></a>内省</h2><h3 id="简介-2"><a href="#简介-2" class="headerlink" title="简介"></a>简介</h3><p>内省即基于反射 ，java所提供的一套应用到JavaBean的API。</p>
<blockquote>
<p>  一个定义在包中的类 ，拥有无参构造器，所有属性私有，所有属性提供get/set方法，实现了序列化接口。这种类, 我们称其为 bean类。</p>
<p>  Java提供了一套java.beans包的api ，对反射的操作，进行了封装!</p>
</blockquote>
<h3 id="Introspector"><a href="#Introspector" class="headerlink" title="Introspector"></a>Introspector</h3><p>获取Bean类信息，方法:</p>
<p><code>BeanInfo getBeanInfo(Class cls)</code> :通过传入的类信息, 得到这个Bean类的封装对象.</p>
<h3 id="BeanInfo"><a href="#BeanInfo" class="headerlink" title="BeanInfo"></a>BeanInfo</h3><p>常用的方法:</p>
<p><code>MethodDescriptor[] getPropertyDescriptors()</code>:获取bean类的 get/set方法 数组</p>
<h3 id="MethodDescriptor"><a href="#MethodDescriptor" class="headerlink" title="MethodDescriptor"></a>MethodDescriptor</h3><p>常用方法:</p>
<p><code>Method getReadMethod()</code>：获取一个get方法</p>
<p><code>Method getWriteMethod()</code>：获取一个set方法</p>
<p><font color = red>有可能返回null 注意加判断!</font></p>
<p><img src="https://i.loli.net/2020/10/26/8UqRoVuAdaIewJ6.png" alt="image-20201026234226051"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.pengspace.top/2020/10/24/XML%E5%92%8CJSON%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%88java%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/05/01/VMPAdgQKfpzoWtc.jpg">
      <meta itemprop="name" content="AnswerCoder">
      <meta itemprop="description" content="记录自己学习的历程">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="鹏空间">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/24/XML%E5%92%8CJSON%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%88java%EF%BC%89/" class="post-title-link" itemprop="url">XML和JSON的使用（java）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-24 16:24:49" itemprop="dateCreated datePublished" datetime="2020-10-24T16:24:49+08:00">2020-10-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-16 19:26:06" itemprop="dateModified" datetime="2020-11-16T19:26:06+08:00">2020-11-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">Java基础</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">评论数：</span>
    
    <a title="valine" href="/2020/10/24/XML%E5%92%8CJSON%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%88java%EF%BC%89/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/10/24/XML%E5%92%8CJSON%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%88java%EF%BC%89/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>5.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>5 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="XML"><a href="#XML" class="headerlink" title="XML"></a>XML</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p><a href="https://baike.baidu.com/item/%E5%8F%AF%E6%89%A9%E5%B1%95%E6%A0%87%E8%AE%B0%E8%AF%AD%E8%A8%80/2885849?fromtitle=xml&fromid=86251&fr=aladdin" target="_blank" rel="noopener">XML</a>全称可扩展标记语言（eXtensible Markup Language）。是一种用于标记电子文件使其具有结构性的标记语言。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/24/XML%E5%92%8CJSON%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%88java%EF%BC%89/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <a href="/">
    <img class="site-author-image" itemprop="image" alt="AnswerCoder"
      src="https://i.loli.net/2020/05/01/VMPAdgQKfpzoWtc.jpg">
  </a>
  <p class="site-author-name" itemprop="name">AnswerCoder</p>
  <div class="site-description" itemprop="description">记录自己学习的历程</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">18</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Brian-YounG7" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Brian-YounG7" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:15939534511@163.com" title="E-Mail → mailto:15939534511@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">AnswerCoder</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">145k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">2:12</span>
</div>

        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>


  <script defer src="https://cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/canvas_lines.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/canvas_sphere.min.js"></script>


  
  <script data-pjax>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  
<script src="/js/local-search.js"></script>













    <div id="pjax">
  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('https://cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'oftcVvNvcCjOKYqUI80AVwVU-gzGzoHsz',
      appKey     : 'LT2CXjogpz8lsiOffakk42ih',
      placeholder: "说点什么吧~",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

    </div>
  <script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":true,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false});</script>
</body>
</html>
